/*

 FullCalendar v1.5.3-rcube-0.7.1
 https://github.com/roundcube/fullcalendar

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Copyright (c) 2011, Kolab Systems AG
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Fri Jul 27 20:53:44 2012 -0700

*/
(function(o,ra){function Ab(a){o.extend(true,$a,a)}function $b(a,c,g){function d(l){if(K){w();P();T();M(l)}else f()}function f(){V=c.theme?"ui":"fc";a.addClass("fc");c.isRTL&&a.addClass("fc-rtl");c.theme&&a.addClass("ui-widget");K=o("<div class='fc-content' style='position:relative'/>").prependTo(a);B=new ac(ia,c);(Q=B.render())&&a.prepend(Q);s(c.defaultView);o(window).resize(la);e()||j()}function j(){setTimeout(function(){!k.start&&e()&&M()},0)}function r(){o(window).unbind("resize",la);B.destroy();
K.remove();a.removeClass("fc fc-rtl ui-widget")}function h(){return ha.offsetWidth!==0}function e(){return o("body")[0].offsetWidth!==0}function s(l){if(!k||l!=k.name){m++;W();var u=k,Z;if(u){(u.beforeHide||Bb)();ab(K,K.height());u.element.hide()}else ab(K,1);K.css("overflow","hidden");if(k=F[l])k.element.show();else k=F[l]=new Ha[l](Z=xa=o("<div class='fc-view fc-view-"+l+"' style='position:absolute'/>").appendTo(K),ia);u&&B.deactivateButton(u.name);B.activateButton(l);M();K.css("overflow","");u&&
ab(K,1);Z||(k.afterShow||Bb)();m--}}function M(l){if(h()){m++;W();da===ra&&w();var u=false;if(!k.start||l||v<k.start||v>=k.end){k.render(v,l||0);y(true);u=true}else if(k.sizeDirty){k.clearEvents();y();u=true}else if(k.eventsDirty){k.clearEvents();u=true}k.sizeDirty=false;k.eventsDirty=false;aa(u);ea=a.outerWidth();B.updateTitle(k.title);l=new Date;l>=k.start&&l<k.end?B.disableButton("today"):B.enableButton("today");m--;k.trigger("viewDisplay",ha)}}function L(){P();if(h()){w();y();W();k.clearEvents();
k.trigger("viewRender",k);k.renderEvents(U);k.sizeDirty=false}}function P(){o.each(F,function(l,u){u.sizeDirty=true})}function w(){da=c.contentHeight?c.contentHeight:c.height?c.height-(Q?Q.height():0)-Ua(K):Math.round(K.width()/Math.max(c.aspectRatio,0.5))}function y(l){m++;k.setHeight(da,l);if(xa){xa.css("position","relative");xa=null}k.setWidth(K.width(),l);m--}function la(){if(!m)if(k.start){var l=++i;setTimeout(function(){if(l==i&&!m&&h())if(ea!=(ea=a.outerWidth())){m++;L();k.trigger("windowResize",
ha);m--}},200)}else j()}function aa(l){if(!c.lazyFetching||ya(k.visStart,k.visEnd))ja();else l&&X()}function ja(l){N(k.visStart,k.visEnd,l)}function C(l){U=l;X()}function ca(l){X(l)}function X(l){T();if(h()){k.clearEvents();k.trigger("viewRender",k);k.renderEvents(U,l);k.eventsDirty=false}}function T(){o.each(F,function(l,u){u.eventsDirty=true})}function $(l,u,Z){k.select(l,u,Z===ra?true:Z)}function W(){k&&k.unselect()}function z(){M(-1)}function D(){M(1)}function ba(){jb(v,-1);M()}function R(){jb(v,
1);M()}function p(){v=new Date;M()}function b(l,u,Z){if(l instanceof Date)v=G(l);else Cb(v,l,u,Z);M()}function q(l,u,Z){l!==ra&&jb(v,l);u!==ra&&kb(v,u);Z!==ra&&ga(v,Z);M()}function t(){return G(v)}function H(){return k}function ma(l,u){if(u===ra)return c[l];if(l=="height"||l=="contentHeight"||l=="aspectRatio"){c[l]=u;L()}else if(l.indexOf("list")==0||l=="tableCols"){c[l]=u;k.start=null}else if(l=="maxHeight")c[l]=u}function pa(l,u){if(c[l])return c[l].apply(u||ha,Array.prototype.slice.call(arguments,
2))}var ia=this;ia.options=c;ia.render=d;ia.destroy=r;ia.refetchEvents=ja;ia.reportEvents=C;ia.reportEventChange=ca;ia.rerenderEvents=X;ia.changeView=s;ia.select=$;ia.unselect=W;ia.prev=z;ia.next=D;ia.prevYear=ba;ia.nextYear=R;ia.today=p;ia.gotoDate=b;ia.incrementDate=q;ia.formatDate=function(l,u){return Pa(l,u,c)};ia.formatDates=function(l,u,Z){return lb(l,u,Z,c)};ia.getDate=t;ia.getView=H;ia.option=ma;ia.trigger=pa;bc.call(ia,c,g);var ya=ia.isFetchNeeded,N=ia.fetchEvents,ha=a[0],B,Q,K,V,k,F={},
ea,da,xa,i=0,m=0,v=new Date,U=[],A;Cb(v,c.year,c.month,c.date);c.droppable&&o(document).bind("dragstart",function(l,u){var Z=l.target,na=o(Z);if(!na.parents(".fc").length){var qa=c.dropAccept;if(o.isFunction(qa)?qa.call(Z,na):na.is(qa)){A=Z;k.dragStart(A,l,u)}}}).bind("dragstop",function(l,u){if(A){k.dragStop(A,l,u);A=null}})}function ac(a,c){function g(){P=c.theme?"ui":"fc";if(c.header)return L=o("<table class='fc-header' style='width:100%'/>").append(o("<tr/>").append(f("left")).append(f("center")).append(f("right")))}
function d(){L.remove()}function f(w){var y=o("<td class='fc-header-"+w+"'/>");(w=c.header[w])&&o.each(w.split(" "),function(la){la>0&&y.append("<span class='fc-header-space'/>");var aa;o.each(this.split(","),function(ja,C){if(C=="title"){y.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");aa&&aa.addClass(P+"-corner-right");aa=null}else{var ca;if(a[C])ca=a[C];else if(Ha[C])ca=function(){T.removeClass(P+"-state-hover");a.changeView(C)};if(ca){ja=c.theme?mb(c.buttonIcons,C):null;var X=
mb(c.buttonText,C),T=o("<span class='fc-button fc-button-"+C+" "+P+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(ja?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+ja+"'/></span>":X)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(T){T.click(function(){T.hasClass(P+"-state-disabled")||ca()}).mousedown(function(){T.not("."+P+"-state-active").not("."+P+"-state-disabled").addClass(P+"-state-down")}).mouseup(function(){T.removeClass(P+
"-state-down")}).hover(function(){T.not("."+P+"-state-active").not("."+P+"-state-disabled").addClass(P+"-state-hover")},function(){T.removeClass(P+"-state-hover").removeClass(P+"-state-down")}).appendTo(y);aa||T.addClass(P+"-corner-left");aa=T}}}});aa&&aa.addClass(P+"-corner-right")});return y}function j(w){L.find("h2").html(w)}function r(w){L.find("span.fc-button-"+w).addClass(P+"-state-active")}function h(w){L.find("span.fc-button-"+w).removeClass(P+"-state-active")}function e(w){L.find("span.fc-button-"+
w).addClass(P+"-state-disabled")}function s(w){L.find("span.fc-button-"+w).removeClass(P+"-state-disabled")}var M=this;M.render=g;M.destroy=d;M.updateTitle=j;M.activateButton=r;M.deactivateButton=h;M.disableButton=e;M.enableButton=s;var L=o([]),P}function bc(a,c){function g(b,q){return!z||b<z||q>D}function d(b,q,t){z=b;D=q;p=typeof t!="undefined"?o.grep(p,function(ma){return!aa(ma.source,t)}):[];b=++ba;q=W.length;R=typeof t=="undefined"?q:1;for(var H=0;H<q;H++)if(typeof t=="undefined"||aa(W[H],t))f(W[H],
b)}function f(b,q){j(b,function(t){if(q==ba){if(t){for(var H=0;H<t.length;H++){t[H].source=b;y(t[H])}p=p.concat(t)}R--;R||T(p)}})}function j(b,q){var t,H=Aa.sourceFetchers,ma;for(t=0;t<H.length;t++){ma=H[t](b,z,D,q);if(ma===true)return;else if(typeof ma=="object"){j(ma,q);return}}if(t=b.events)if(o.isFunction(t)){w();t(G(z),G(D),function(N){q(N);w()})}else o.isArray(t)?q(t):q();else if(b.url){var pa=b.success,ia=b.error,ya=b.complete;t=o.extend({},b.data||{});H=Va(b.startParam,a.startParam);ma=Va(b.endParam,
a.endParam);if(H)t[H]=Math.round(+z/1E3);if(ma)t[ma]=Math.round(+D/1E3);w();o.ajax(o.extend({},cc,b,{data:t,success:function(N){N=N||[];var ha=bb(pa,this,arguments);if(o.isArray(ha))N=ha;q(N)},error:function(){bb(ia,this,arguments);q()},complete:function(){bb(ya,this,arguments);w()}}))}else q()}function r(b){if(b=h(b)){R++;f(b,ba)}}function h(b){if(o.isFunction(b)||o.isArray(b))b={events:b};else if(typeof b=="string")b={url:b};if(typeof b=="object"){la(b);W.push(b);return b}}function e(b){W=o.grep(W,
function(q){return!aa(q,b)});p=o.grep(p,function(q){return!aa(q.source,b)});T(p)}function s(b){var q,t=p.length,H,ma=X().defaultEventEnd,pa=b.start-b._start,ia=b.end?b.end-(b._end||ma(b)):0;for(q=0;q<t;q++){H=p[q];if(H._id==b._id&&H!=b){H.start=new Date(+H.start+pa);H.end=b.end?H.end?new Date(+H.end+ia):new Date(+ma(H)+ia):null;H.title=b.title;H.url=b.url;H.allDay=b.allDay;H.className=b.className;H.editable=b.editable;H.color=b.color;H.backgroudColor=b.backgroudColor;H.borderColor=b.borderColor;H.textColor=
b.textColor;y(H)}}y(b);T(p)}function M(b,q){y(b);if(!b.source)if(q){$.events.push(b);b.source=$}p.push(b);T(p)}function L(b){if(b){if(!o.isFunction(b)){var q=b+"";b=function(H){return H._id==q}}p=o.grep(p,b,true);for(t=0;t<W.length;t++)if(o.isArray(W[t].events))W[t].events=o.grep(W[t].events,b,true)}else{p=[];for(var t=0;t<W.length;t++)if(o.isArray(W[t].events))W[t].events=[]}T(p)}function P(b){if(o.isFunction(b))return o.grep(p,b);else if(b){b+="";return o.grep(p,function(q){return q._id==b})}return p}
function w(){ca("loading",null,R||false,W.length)}function y(b){var q=b.source||{},t=Va(q.ignoreTimezone,a.ignoreTimezone);b._id=b._id||(b.id===ra?"_fc"+dc++:b.id+"");if(b.date){if(!b.start)b.start=b.date;delete b.date}b._start=G(b.start=nb(b.start,t));b.end=nb(b.end,t);if(b.end&&b.end<=b.start)b.end=null;b._end=b.end?G(b.end):null;if(b.allDay===ra)b.allDay=Va(q.allDayDefault,a.allDayDefault);if(b.className){if(typeof b.className=="string")b.className=b.className.split(/\s+/)}else b.className=[]}
function la(b){if(b.className){if(typeof b.className=="string")b.className=b.className.split(/\s+/)}else b.className=[];for(var q=Aa.sourceNormalizers,t=0;t<q.length;t++)q[t](b)}function aa(b,q){return b&&q&&ja(b)==ja(q)}function ja(b){return(typeof b=="object"?b.events||b.url:"")||b}var C=this;C.isFetchNeeded=g;C.fetchEvents=d;C.addEventSource=r;C.removeEventSource=e;C.updateEvent=s;C.renderEvent=M;C.removeEvents=L;C.clientEvents=P;C.normalizeEvent=y;var ca=C.trigger,X=C.getView,T=C.reportEvents,
$={events:[]},W=[$],z,D,ba=0,R=0,p=[];for(C=0;C<c.length;C++)h(c[C])}function jb(a,c,g){a.setFullYear(a.getFullYear()+c);g||Ia(a);return a}function kb(a,c,g){if(+a){c=a.getMonth()+c;var d=G(a);d.setDate(1);d.setMonth(c);a.setMonth(c);for(g||Ia(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function ga(a,c,g){if(+a){c=a.getDate()+c;var d=G(a);d.setHours(9);d.setDate(c);a.setDate(c);g||Ia(a);ob(a,d)}return a}function ob(a,c){if(+a)for(;a.getDate()!=c.getDate();)a.setTime(+a+
(a<c?1:-1)*ec)}function wa(a,c){a.setMinutes(a.getMinutes()+c);return a}function Ia(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function G(a,c){if(c)return Ia(new Date(+a));return new Date(+a)}function Db(){var a=0,c;do c=new Date(1970,a++,1);while(c.getHours());return c}function Ja(a,c,g){for(c=c||1;!a.getDay()||g&&a.getDay()==1||!g&&a.getDay()==6;)ga(a,c);return a}function Ba(a,c){return Math.round((G(a,true)-G(c,true))/Qa)}function Cb(a,c,g,d){if(c!==ra&&c!=a.getFullYear()){a.setDate(1);
a.setMonth(0);a.setFullYear(c)}if(g!==ra&&g!=a.getMonth()){a.setDate(1);a.setMonth(g)}d!==ra&&a.setDate(d)}function nb(a,c){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(c===ra)c=true;return Eb(a,c)||(a?new Date(a):null)}return null}function Eb(a,c){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);
if(!a)return null;var g=new Date(a[1],0,1);if(c||!a[13]){c=new Date(a[1],0,1,9,0);if(a[3]){g.setMonth(a[3]-1);c.setMonth(a[3]-1)}if(a[5]){g.setDate(a[5]);c.setDate(a[5])}ob(g,c);a[7]&&g.setHours(a[7]);a[8]&&g.setMinutes(a[8]);a[10]&&g.setSeconds(a[10]);a[12]&&g.setMilliseconds(Number("0."+a[12])*1E3);ob(g,c)}else{g.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);g.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){c=Number(a[16])*60+(a[18]?Number(a[18]):0);c*=a[15]=="-"?1:-1;
g=new Date(+g+c*60*1E3)}}return g}function pb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var c=parseInt(a[1],10);if(a[3]){c%=12;if(a[3].toLowerCase().charAt(0)=="p")c+=12}return c*60+(a[2]?parseInt(a[2],10):0)}}function Pa(a,c,g){return lb(a,null,c,g)}function lb(a,c,g,d){d=d||$a;var f=a,j=c,r,h=g.length,e,s,M,L="";for(r=0;r<h;r++){e=g.charAt(r);if(e=="'")for(s=r+1;s<h;s++){if(g.charAt(s)=="'"){if(f){L+=
s==r+1?"'":g.substring(r+1,s);r=s}break}}else if(e=="(")for(s=r+1;s<h;s++){if(g.charAt(s)==")"){r=Pa(f,g.substring(r+1,s),d);if(parseInt(r.replace(/\D/,""),10))L+=r;r=s;break}}else if(e=="[")for(s=r+1;s<h;s++){if(g.charAt(s)=="]"){e=g.substring(r+1,s);r=Pa(f,e,d);if(r!=Pa(j,e,d))L+=r;r=s;break}}else if(e=="{"){f=c;j=a}else if(e=="}"){f=a;j=c}else{for(s=h;s>r;s--)if(M=fc[g.substring(r,s)]){if(f)L+=M(f,d);r=s-1;break}if(s==r)if(f)L+=e}}return L}function Wa(a){return a.end?gc(a.end,a.allDay):ga(G(a.start),
1)}function gc(a,c){a=G(a);return c||a.getHours()||a.getMinutes()?ga(a,1):Ia(a)}function hc(a,c){return(c.msLength-a.msLength)*100+(a.event.start-c.event.start)}function Fb(a,c){return a.end>c.start&&a.start<c.end}function qb(a,c,g,d){var f=[],j,r=a.length,h,e,s,M,L;for(j=0;j<r;j++){h=a[j];e=h.start;s=c[j];if(s>g&&e<d){if(e<g){e=G(g);M=false}else{e=e;M=true}if(s>d){s=G(d);L=false}else{s=s;L=true}f.push({event:h,start:e,end:s,isStart:M,isEnd:L,msLength:s-e})}}return f.sort(hc)}function rb(a){var c=
[],g,d=a.length,f,j,r,h;for(g=0;g<d;g++){f=a[g];for(j=0;;){r=false;if(c[j])for(h=0;h<c[j].length;h++)if(Fb(c[j][h],f)){r=true;break}if(r)j++;else break}if(c[j])c[j].push(f);else c[j]=[f]}return c}function Gb(a,c,g){a.unbind("mouseover").mouseover(function(d){for(var f=d.target,j;f!=this;){j=f;f=f.parentNode}if((f=j._fci)!==ra){j._fci=ra;j=c[f];g(j.event,j.element,j);o(d.target).trigger(d)}d.stopPropagation()})}function Xa(a,c,g){for(var d=0,f;d<a.length;d++){f=o(a[d]);f.width(Math.max(0,c-sb(f,g)))}}
function Hb(a,c,g){for(var d=0,f;d<a.length;d++){f=o(a[d]);f.height(Math.max(0,c-Ua(f,g)))}}function sb(a,c){return ic(a)+jc(a)+(c?kc(a):0)}function ic(a){return(parseFloat(o.curCSS(a[0],"paddingLeft",true))||0)+(parseFloat(o.curCSS(a[0],"paddingRight",true))||0)}function kc(a){return(parseFloat(o.curCSS(a[0],"marginLeft",true))||0)+(parseFloat(o.curCSS(a[0],"marginRight",true))||0)}function jc(a){return(parseFloat(o.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(o.curCSS(a[0],"borderRightWidth",
true))||0)}function Ua(a,c){return lc(a)+mc(a)+(c?Ib(a):0)}function lc(a){return(parseFloat(o.curCSS(a[0],"paddingTop",true))||0)+(parseFloat(o.curCSS(a[0],"paddingBottom",true))||0)}function Ib(a){return(parseFloat(o.curCSS(a[0],"marginTop",true))||0)+(parseFloat(o.curCSS(a[0],"marginBottom",true))||0)}function mc(a){return(parseFloat(o.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(o.curCSS(a[0],"borderBottomWidth",true))||0)}function ab(a,c){c=typeof c=="number"?c+"px":c;a.each(function(g,
d){d.style.cssText+=";min-height:"+c+";_height:"+c})}function Bb(){}function Jb(a,c){return a-c}function Kb(a){return Math.max.apply(Math,a)}function Ra(a){return(a<10?"0":"")+a}function mb(a,c){if(a[c]!==ra)return a[c];c=c.split(/(?=[A-Z])/);for(var g=c.length-1,d;g>=0;g--){d=a[c[g].toLowerCase()];if(d!==ra)return d}return a[""]}function Ea(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Lb(a){return a.id+
"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function tb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function Sa(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function ub(a,c){a.each(function(g,d){d.className=d.className.replace(/^fc-\w*/,"fc-"+Mb[c.getDay()])})}function cb(a,c){var g=a.source||
{},d=a.color,f=g.color,j=c("eventColor"),r=a.backgroundColor||d||g.backgroundColor||f||c("eventBackgroundColor")||j;d=a.borderColor||d||g.borderColor||f||c("eventBorderColor")||j;a=a.textColor||g.textColor||c("eventTextColor");c=[];r&&c.push("background-color:"+r);d&&c.push("border-color:"+d);a&&c.push("color:"+a);return c.join(";")}function bb(a,c,g){if(o.isFunction(a))a=[a];if(a){var d,f;for(d=0;d<a.length;d++)f=a[d].apply(c,g)||f;return f}}function Va(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==
ra)return arguments[a]}function nc(a,c){function g(h,e){if(e){kb(h,e);h.setDate(1)}h=G(h,true);h.setDate(1);e=kb(G(h),1);var s=G(h),M=G(e),L=f("firstDay"),P=f("weekends")?0:1;if(P){Ja(s);Ja(M,-1,true)}ga(s,-((s.getDay()-Math.max(L,P)+7)%7));ga(M,(7-M.getDay()+Math.max(L,P))%7);L=Math.round((M-s)/(Qa*7));if(f("weekMode")=="fixed"){ga(M,(6-L)*7);L=6}d.title=r(h,f("titleFormat"));d.start=h;d.end=e;d.visStart=s;d.visEnd=M;j(6,L,P?5:7,true)}var d=this;d.render=g;vb.call(d,a,c,"month");var f=d.opt,j=d.renderBasic,
r=c.formatDate}function oc(a,c){function g(h,e){e&&ga(h,e*7);h=ga(G(h),-((h.getDay()-f("firstDay")+7)%7));e=ga(G(h),7);var s=G(h),M=G(e),L=f("weekends");if(!L){Ja(s);Ja(M,-1,true)}d.title=r(s,ga(G(M),-1),f("titleFormat"));d.start=h;d.end=e;d.visStart=s;d.visEnd=M;j(1,1,L?7:5,false)}var d=this;d.render=g;vb.call(d,a,c,"basicWeek");var f=d.opt,j=d.renderBasic,r=c.formatDates}function pc(a,c){function g(h,e){if(e){ga(h,e);f("weekends")||Ja(h,e<0?-1:1)}d.title=r(h,f("titleFormat"));d.start=d.visStart=
G(h,true);d.end=d.visEnd=ga(G(d.start),1);j(1,1,1,false)}var d=this;d.render=g;vb.call(d,a,c,"basicDay");var f=d.opt,j=d.renderBasic,r=c.formatDate}function vb(a,c,g){function d(x,I,Y,O){i=I;m=Y;f();(I=!B)?j(x,O):H();r(I)}function f(){if(l=q("isRTL")){u=-1;Z=m-1}else{u=1;Z=0}na=q("firstDay");qa=q("weekends")?0:1;oa=q("theme")?"ui":"fc";ta=q("columnFormat")}function j(x,I){var Y,O=oa+"-widget-header",ka=oa+"-widget-content",fa;Y="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";
for(fa=0;fa<m;fa++)Y+="<th class='fc- "+O+"'/>";Y+="</tr></thead><tbody>";for(fa=0;fa<x;fa++){Y+="<tr class='fc-week"+fa+"'>";for(O=0;O<m;O++)Y+="<td class='fc- "+ka+" fc-day"+(fa*m+O)+"'><div>"+(I?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";Y+="</tr>"}Y+="</tbody></table>";x=o(Y).appendTo(a);N=x.find("thead");ha=N.find("th");B=x.find("tbody");Q=B.find("tr");K=B.find("td");V=K.filter(":first-child");k=Q.eq(0).find("div.fc-day-content div");
Sa(N.add(N.find("tr")));Sa(Q);Q.eq(0).addClass("fc-first");s(K);F=o("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function r(x){var I=x||i==1,Y=b.start.getMonth(),O=Ia(new Date),ka,fa,ua;I&&ha.each(function(va,Ca){ka=o(Ca);fa=D(va);ka.html(ya(fa,ta));ub(ka,fa)});K.each(function(va,Ca){ka=o(Ca);fa=D(va);fa.getMonth()==Y?ka.removeClass("fc-other-month"):ka.addClass("fc-other-month");+fa==+O?ka.addClass(oa+"-state-highlight fc-today"):ka.removeClass(oa+"-state-highlight fc-today");
ka.find("div.fc-day-number").text(fa.getDate());I&&ub(ka,fa)});Q.each(function(va,Ca){ua=o(Ca);if(va<i){ua.show();va==i-1?ua.addClass("fc-last"):ua.removeClass("fc-last")}else ua.hide()})}function h(x){da=x;x=da-N.height();var I,Y,O;if(q("weekMode")=="variable")I=Y=Math.floor(x/(i==1?2:6));else{I=Math.floor(x/i);Y=x-I*(i-1)}V.each(function(ka,fa){if(ka<i){O=o(fa);ab(O.find("> div"),(ka==i-1?Y:I)-Ua(O))}})}function e(x){ea=x;A.clear();xa=Math.floor(ea/m);Xa(ha.slice(0,-1),xa)}function s(x){x.click(M).mousedown(ia)}
function M(x){if(!q("selectable")){var I=parseInt(this.className.match(/fc\-day(\d+)/)[1]);I=D(I);t("dayClick",this,I,true,x)}}function L(x,I,Y){Y&&v.build();Y=G(b.visStart);for(var O=ga(G(Y),m),ka=0;ka<i;ka++){var fa=new Date(Math.max(Y,x)),ua=new Date(Math.min(O,I));if(fa<ua){var va;if(l){va=Ba(ua,Y)*u+Z+1;fa=Ba(fa,Y)*u+Z+1}else{va=Ba(fa,Y);fa=Ba(ua,Y)}s(P(ka,va,ka,fa-1))}ga(Y,7);ga(O,7)}}function P(x,I,Y,O){x=v.rect(x,I,Y,O,a);return ma(x,a)}function w(x){return G(x)}function y(x,I){L(x,ga(G(I),
1),true)}function la(){pa()}function aa(x,I,Y){var O=$(x);t("dayClick",K[O.row*m+O.col],x,I,Y)}function ja(x,I){U.start(function(Y){pa();Y&&P(Y.row,Y.col,Y.row,Y.col)},I)}function C(x,I,Y){var O=U.stop();pa();if(O){O=W(O);t("drop",x,O,true,I,Y)}}function ca(x){return G(x.start)}function X(x){return A.left(x)}function T(x){return A.right(x)}function $(x){return{row:Math.floor(Ba(x,b.visStart)/7),col:ba(x.getDay())}}function W(x){return z(x.row,x.col)}function z(x,I){return ga(G(b.visStart),x*7+I*u+
Z)}function D(x){return z(Math.floor(x/m),x%m)}function ba(x){return(x-Math.max(na,qa)+m)%m*u+Z}function R(x){return Q.eq(x)}function p(){return{left:0,right:ea}}var b=this;b.renderBasic=d;b.setHeight=h;b.setWidth=e;b.renderDayOverlay=L;b.defaultSelectionEnd=w;b.renderSelection=y;b.clearSelection=la;b.reportDayClick=aa;b.dragStart=ja;b.dragStop=C;b.defaultEventEnd=ca;b.getHoverListener=function(){return U};b.colContentLeft=X;b.colContentRight=T;b.dayOfWeekCol=ba;b.dateCell=$;b.cellDate=W;b.cellIsAllDay=
function(){return true};b.allDayRow=R;b.allDayBounds=p;b.getRowCnt=function(){return i};b.getColCnt=function(){return m};b.getColWidth=function(){return xa};b.getDaySegmentContainer=function(){return F};db.call(b,a,c,g);Nb.call(b);Ob.call(b);qc.call(b);var q=b.opt,t=b.trigger,H=b.clearEvents,ma=b.renderOverlay,pa=b.clearOverlays,ia=b.daySelectionMousedown,ya=c.formatDate,N,ha,B,Q,K,V,k,F,ea,da,xa,i,m,v,U,A,l,u,Z,na,qa,oa,ta;tb(a.addClass("fc-grid"));v=new Pb(function(x,I){var Y,O,ka;ha.each(function(fa,
ua){Y=o(ua);O=Y.offset().left;if(fa)ka[1]=O;ka=[O];I[fa]=ka});ka[1]=O+Y.outerWidth();Q.each(function(fa,ua){if(fa<i){Y=o(ua);O=Y.offset().top;if(fa)ka[1]=O;ka=[O];x[fa]=ka}});ka[1]=O+Y.outerHeight()});U=new Qb(v);A=new Rb(function(x){return k.eq(x)})}function qc(){function a(z,D){M(z);$(g(z),D)}function c(){L();aa().empty()}function g(z){var D=X(),ba=T(),R=G(j.visStart);ba=ga(G(R),ba);var p=o.map(z,Wa),b,q,t,H,ma,pa,ia=[];for(b=0;b<D;b++){q=rb(qb(z,p,R,ba));for(t=0;t<q.length;t++){H=q[t];for(ma=0;ma<
H.length;ma++){pa=H[ma];pa.row=b;pa.level=t;ia.push(pa)}}ga(R,7);ga(ba,7)}return ia}function d(z,D,ba){e(z)&&f(z,D);ba.isEnd&&s(z)&&W(z,D,ba);P(z,D)}function f(z,D){var ba=ja(),R;D.draggable({zIndex:9,delay:50,opacity:r("dragOpacity"),revertDuration:r("dragRevertDuration"),start:function(p,b){h("eventDragStart",D,z,p,b);y(z,D);ba.start(function(q,t,H,ma){D.draggable("option","revert",!q||!H&&!ma);ca();if(q){R=H*7+ma*(r("isRTL")?-1:1);C(ga(G(z.start),R),ga(Wa(z),R))}else R=0},p,"drag")},stop:function(p,
b){ba.stop();ca();h("eventDragStop",D,z,p,b);if(R)la(this,z,R,0,z.allDay,p,b);else{D.css("filter","");w(z,D)}}})}var j=this;j.renderEvents=a;j.compileDaySegs=g;j.clearEvents=c;j.bindDaySeg=d;wb.call(j);var r=j.opt,h=j.trigger,e=j.isEventDraggable,s=j.isEventResizable,M=j.reportEvents,L=j.reportEventClear,P=j.eventElementHandlers,w=j.showEvents,y=j.hideEvents,la=j.eventDrop,aa=j.getDaySegmentContainer,ja=j.getHoverListener,C=j.renderDayOverlay,ca=j.clearOverlays,X=j.getRowCnt,T=j.getColCnt,$=j.renderDaySegs,
W=j.resizableDayEvent}function rc(a,c){function g(h,e){e&&ga(h,e*7);h=ga(G(h),-((h.getDay()-f("firstDay")+7)%7));e=ga(G(h),7);var s=G(h),M=G(e),L=f("weekends");if(!L){Ja(s);Ja(M,-1,true)}d.title=r(s,ga(G(M),-1),f("titleFormat"));d.start=h;d.end=e;d.visStart=s;d.visEnd=M;j(L?7:5)}var d=this;d.render=g;Sb.call(d,a,c,"agendaWeek");var f=d.opt,j=d.renderAgenda,r=c.formatDates}function sc(a,c){function g(h,e){if(e){ga(h,e);f("weekends")||Ja(h,e<0?-1:1)}e=G(h,true);var s=ga(G(e),1);d.title=r(h,f("titleFormat"));
d.start=d.visStart=e;d.end=d.visEnd=s;j(1)}var d=this;d.render=g;Sb.call(d,a,c,"agendaDay");var f=d.opt,j=d.renderAgenda,r=c.formatDate}function Sb(a,c,g){function d(n){Da=n;f();i?Q():j();r()}function f(){Ya=ha("theme")?"ui":"fc";Tb=ha("weekends")?0:1;Ub=ha("firstDay");if(Vb=ha("isRTL")){Ka=-1;La=Da-1}else{Ka=1;La=0}Ma=pb(ha("minTime"));eb=pb(ha("maxTime"));Wb=ha("columnFormat")}function j(){var n=Ya+"-widget-header",S=Ya+"-widget-content",J,E,sa,za,Fa,Ga=ha("slotMinutes")%15==0;J="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+
n+"'>&nbsp;</th>";for(E=0;E<Da;E++)J+="<th class='fc- fc-col"+E+" "+n+"'/>";J+="<th class='fc-agenda-gutter "+n+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+n+"'>&nbsp;</th>";for(E=0;E<Da;E++)J+="<td class='fc- fc-col"+E+" "+S+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";J+="<td class='fc-agenda-gutter "+S+"'>&nbsp;</td></tr></tbody></table>";i=o(J).appendTo(a);m=i.find("thead");v=m.find("th").slice(1,-1);U=i.find("tbody");
A=U.find("td").slice(0,-1);l=A.find("div.fc-day-content div");u=A.eq(0);Z=u.find("> div");Sa(m.add(m.find("tr")));Sa(U.add(U.find("tr")));fa=m.find("th:first");ua=i.find(".fc-agenda-gutter");na=o("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(ha("allDaySlot")){qa=o("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(na);J="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+n+" fc-agenda-axis'>"+ha("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
n+" fc-agenda-gutter'>&nbsp;</th></tr></table>";oa=o(J).appendTo(na);ta=oa.find("tr");P(ta.find("td"));fa=fa.add(oa.find("th:first"));ua=ua.add(oa.find("th.fc-agenda-gutter"));na.append("<div class='fc-agenda-divider "+n+"'><div class='fc-agenda-divider-inner'/></div>")}else qa=o([]);x=o("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(na);I=o("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(x);Y=o("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(I);
J="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";sa=Db();za=wa(G(sa),eb);wa(sa,Ma);for(E=xb=0;sa<za;E++){Fa=sa.getMinutes();J+="<tr class='fc-slot"+E+" "+(!Fa?"":"fc-minor")+"'><th class='fc-agenda-axis "+n+"'>"+(!Ga||!Fa?xa(sa,ha("axisFormat")):"&nbsp;")+"</th><td class='"+S+"'><div style='position:relative'>&nbsp;</div></td></tr>";wa(sa,ha("slotMinutes"));xb++}J+="</tbody></table>";O=o(J).appendTo(I);ka=O.find("div:first");w(O.find("td"));fa=fa.add(O.find("th:first"))}
function r(){var n,S,J,E,sa=Ia(new Date);for(n=0;n<Da;n++){E=$(n);S=v.eq(n);S.html(xa(E,Wb));J=A.eq(n);+E==+sa?J.addClass(Ya+"-state-highlight fc-today"):J.removeClass(Ya+"-state-highlight fc-today");ub(S.add(J),E)}}function h(n,S){if(n===ra)n=Xb;Xb=n;yb={};var J=U.position().top,E=x.position().top;n=Math.min(n-J,O.height()+E+1);Z.height(n-Ua(u));na.css("top",J);x.height(n-E-1);Za=ka.height()+1;S&&s()}function e(n){Ca=n;fb.clear();Na=0;Xa(fa.width("").each(function(S,J){Na=Math.max(Na,o(J).outerWidth())}),
Na);n=x[0].clientWidth;if(zb=x.width()-n){Xa(ua,zb);ua.show().prev().removeClass("fc-last")}else ua.hide().prev().addClass("fc-last");gb=Math.floor((n-Na)/Da);Xa(v.slice(0,-1),gb)}function s(){function n(){x.scrollTop(E)}var S=Db(),J=G(S);J.setHours(ha("firstHour"));var E=D(S,J)+1;n();setTimeout(n,0)}function M(){Yb=x.scrollTop()}function L(){x.scrollTop(Yb)}function P(n){n.click(y).mousedown(ea)}function w(n){n.click(y).mousedown(ma)}function y(n){if(!ha("selectable")){var S=Math.min(Da-1,Math.floor((n.pageX-
i.offset().left-Na)/gb)),J=$(S),E=this.parentNode.className.match(/fc-slot(\d+)/);if(E){E=parseInt(E[1])*ha("slotMinutes");var sa=Math.floor(E/60);J.setHours(sa);J.setMinutes(E%60+Ma);B("dayClick",A[S],J,false,n)}else B("dayClick",A[S],J,true,n)}}function la(n,S,J){J&&Oa.build();var E=G(N.visStart);if(Vb){J=Ba(S,E)*Ka+La+1;n=Ba(n,E)*Ka+La+1}else{J=Ba(n,E);n=Ba(S,E)}J=Math.max(0,J);n=Math.min(Da,n);J<n&&P(aa(0,J,0,n-1))}function aa(n,S,J,E){n=Oa.rect(n,S,J,E,na);return K(n,na)}function ja(n,S){for(var J=
G(N.visStart),E=ga(G(J),1),sa=0;sa<Da;sa++){var za=new Date(Math.max(J,n)),Fa=new Date(Math.min(E,S));if(za<Fa){var Ga=sa*Ka+La;Ga=Oa.rect(0,Ga,0,Ga,I);za=D(J,za);Fa=D(J,Fa);Ga.top=za;Ga.height=Fa-za;w(K(Ga,I))}ga(J,1);ga(E,1)}}function C(n){return fb.left(n)}function ca(n){return fb.right(n)}function X(n){return{row:Math.floor(Ba(n,N.visStart)/7),col:z(n.getDay())}}function T(n){var S=$(n.col);n=n.row;ha("allDaySlot")&&n--;n>=0&&wa(S,Ma+n*ha("slotMinutes"));return S}function $(n){return ga(G(N.visStart),
n*Ka+La)}function W(n){return ha("allDaySlot")&&!n.row}function z(n){return(n-Math.max(Ub,Tb)+Da)%Da*Ka+La}function D(n,S){n=G(n,true);if(S<wa(G(n),Ma))return 0;if(S>=wa(G(n),eb))return O.height();n=ha("slotMinutes");S=S.getHours()*60+S.getMinutes()-Ma;var J=Math.floor(S/n),E=yb[J];if(E===ra)E=yb[J]=O.find("tr:eq("+J+") td div")[0].offsetTop;return Math.max(0,Math.round(E-1+Za*(S%n/n)))}function ba(){return{left:Na,right:Ca-zb}}function R(){return ta}function p(n){var S=G(n.start);if(n.allDay)return S;
return wa(S,ha("defaultEventMinutes"))}function b(n,S){if(S)return G(n);return wa(G(n),ha("slotMinutes"))}function q(n,S,J){if(J)ha("allDaySlot")&&la(n,ga(G(S),1),true);else t(n,S)}function t(n,S){var J=ha("selectHelper");Oa.build();if(J){var E=Ba(n,N.visStart)*Ka+La;if(E>=0&&E<Da){E=Oa.rect(0,E,0,E,I);var sa=D(n,n),za=D(n,S);if(za>sa){E.top=sa;E.height=za-sa;E.left+=2;E.width-=5;if(o.isFunction(J)){if(n=J(n,S)){E.position="absolute";E.zIndex=8;va=o(n).css(E).appendTo(I)}}else{E.isStart=true;E.isEnd=
true;va=o(da({title:"",start:n,end:S,className:["fc-select-helper"],editable:false},E));va.css("opacity",ha("dragOpacity"))}if(va){w(va);I.append(va);Xa(va,E.width,true);Hb(va,E.height,true)}}}}else ja(n,S)}function H(){V();if(va){va.remove();va=null}}function ma(n){if(n.which==1&&ha("selectable")){F(n);var S,J=ha("selectHelper");Ta.start(function(E,sa){H();if(E&&(E.col==sa.col||!J)&&!W(E)){sa=T(sa);E=T(E);S=[sa,wa(G(sa),ha("slotMinutes")),E,wa(G(E),ha("slotMinutes"))].sort(Jb);t(S[0],S[3])}else S=
null},n);o(document).one("mouseup",function(E){Ta.stop();if(S){+S[0]==+S[1]&&pa(S[0],false,E);k(S[0],S[3],false,E)}})}}function pa(n,S,J){B("dayClick",A[z(n.getDay())],n,S,J)}function ia(n,S){Ta.start(function(J){V();if(J)if(W(J))aa(J.row,J.col,J.row,J.col);else{J=T(J);var E=wa(G(J),ha("defaultEventMinutes"));ja(J,E)}},S)}function ya(n,S,J){var E=Ta.stop();V();E&&B("drop",n,T(E),W(E),S,J)}var N=this;N.renderAgenda=d;N.setWidth=e;N.setHeight=h;N.beforeHide=M;N.afterShow=L;N.defaultEventEnd=p;N.timePosition=
D;N.dayOfWeekCol=z;N.dateCell=X;N.cellDate=T;N.cellIsAllDay=W;N.allDayRow=R;N.allDayBounds=ba;N.getHoverListener=function(){return Ta};N.colContentLeft=C;N.colContentRight=ca;N.getDaySegmentContainer=function(){return qa};N.getSlotSegmentContainer=function(){return Y};N.getMinMinute=function(){return Ma};N.getMaxMinute=function(){return eb};N.getBodyContent=function(){return I};N.getRowCnt=function(){return 1};N.getColCnt=function(){return Da};N.getColWidth=function(){return gb};N.getSlotHeight=function(){return Za};
N.defaultSelectionEnd=b;N.renderDayOverlay=la;N.renderSelection=q;N.clearSelection=H;N.reportDayClick=pa;N.dragStart=ia;N.dragStop=ya;db.call(N,a,c,g);Nb.call(N);Ob.call(N);tc.call(N);var ha=N.opt,B=N.trigger,Q=N.clearEvents,K=N.renderOverlay,V=N.clearOverlays,k=N.reportSelection,F=N.unselect,ea=N.daySelectionMousedown,da=N.slotSegHtml,xa=c.formatDate,i,m,v,U,A,l,u,Z,na,qa,oa,ta,x,I,Y,O,ka,fa,ua,va,Ca,Xb,Na,gb,zb,Za,Yb,Da,xb,Oa,Ta,fb,yb={},Ya,Ub,Tb,Vb,Ka,La,Ma,eb,Wb;tb(a.addClass("fc-agenda"));Oa=
new Pb(function(n,S){function J(hb){return Math.max(Ga,Math.min(uc,hb))}var E,sa,za;v.each(function(hb,vc){E=o(vc);sa=E.offset().left;if(hb)za[1]=sa;za=[sa];S[hb]=za});za[1]=sa+E.outerWidth();if(ha("allDaySlot")){E=ta;sa=E.offset().top;n[0]=[sa,sa+E.outerHeight()]}for(var Fa=I.offset().top,Ga=x.offset().top,uc=Ga+x.outerHeight(),ib=0;ib<xb;ib++)n.push([J(Fa+Za*ib),J(Fa+Za*(ib+1))])});Ta=new Qb(Oa);fb=new Rb(function(n){return l.eq(n)})}function tc(){function a(i,m){ca(i);var v,U=i.length,A=[],l=[];
for(v=0;v<U;v++)i[v].allDay?A.push(i[v]):l.push(i[v]);if(y("allDaySlot")){t(g(A),m);$()}j(d(l),m);if(y("currentTimeIndicator")){window.clearInterval(xa);xa=window.setInterval(s,3E4);s()}}function c(){X();W().empty();z().empty()}function g(i){i=rb(qb(i,o.map(i,Wa),w.visStart,w.visEnd));var m,v=i.length,U,A,l,u=[];for(m=0;m<v;m++){U=i[m];for(A=0;A<U.length;A++){l=U[A];l.row=0;l.level=m;u.push(l)}}return u}function d(i){var m=ma(),v=R(),U=ba(),A=wa(G(w.visStart),v),l=o.map(i,f),u,Z,na,qa,oa,ta,x=[];
for(u=0;u<m;u++){Z=rb(qb(i,l,A,wa(G(A),U-v)));wc(Z);for(na=0;na<Z.length;na++){qa=Z[na];for(oa=0;oa<qa.length;oa++){ta=qa[oa];ta.col=u;ta.level=na;x.push(ta)}}ga(A,1,true)}return x}function f(i){return i.end?G(i.end):wa(G(i.start),y("defaultEventMinutes"))}function j(i,m){var v,U=i.length,A,l,u,Z,na,qa,oa,ta,x,I="",Y,O,ka={},fa={},ua=z(),va;v=ma();var Ca=v>1;if(Y=y("isRTL")){O=-1;va=v-1}else{O=1;va=0}for(v=0;v<U;v++){A=i[v];l=A.event;u=p(A.start,A.start);Z=p(A.start,A.end);na=A.col;qa=A.level;oa=
A.forward||0;ta=b(na*O+va);x=q(na*O+va)-ta;x=Math.min(x-6,x*0.95);na=qa?x/(qa+oa+1):oa?Ca?(x/(oa+1)-6)*2:(na=x/(oa+1)):x;qa=ta+x/(qa+oa+1)*qa*O+(Y?x-na:0);A.top=u;A.left=qa;A.outerWidth=na-(Ca?0:1);A.outerHeight=Z-u;I+=r(l,A)}ua[0].innerHTML=I;Y=ua.children();for(v=0;v<U;v++){A=i[v];l=A.event;I=o(Y[v]);O=la("eventRender",l,l,I);if(O===false)I.remove();else{if(O&&O!==true){I.remove();I=o(O).css({position:"absolute",top:A.top,left:A.left}).appendTo(ua)}A.element=I;if(l._id===m)e(l,I,A);else I[0]._fci=
v;N(l,I)}}Gb(ua,i,e);for(v=0;v<U;v++){A=i[v];if(I=A.element){l=ka[m=A.key=Lb(I[0])];A.vsides=l===ra?(ka[m]=Ua(I,true)):l;l=fa[m];A.hsides=l===ra?(fa[m]=sb(I,true)):l;m=I.find("div.fc-event-content");if(m.length)A.contentTop=m[0].offsetTop}}for(v=0;v<U;v++){A=i[v];if(I=A.element){I[0].style.width=Math.max(0,A.outerWidth-A.hsides)+"px";ka=Math.max(0,A.outerHeight-A.vsides);I[0].style.height=ka+"px";l=A.event;if(A.contentTop!==ra&&ka-A.contentTop<10){I.find("div.fc-event-time").text(ea(l.start,y("timeFormat"))+
" - "+l.title);I.find("div.fc-event-title").remove()}la("eventAfterRender",l,l,I)}}}function r(i,m){var v="<",U=i.url,A=cb(i,y),l=A?" style='"+A+"'":"",u=["fc-event","fc-event-skin","fc-event-vert"];aa(i)&&u.push("fc-event-draggable");m.isStart&&u.push("fc-corner-top");m.isEnd&&u.push("fc-corner-bottom");u=u.concat(i.className);if(i.source)u=u.concat(i.source.className||[]);v+=U?"a href='"+Ea(i.url)+"'":"div";v+=" class='"+u.join(" ")+"' style='position:absolute;z-index:8;top:"+m.top+"px;left:"+m.left+
"px;"+A+"'><div class='fc-event-inner fc-event-skin'"+l+"><div class='fc-event-head fc-event-skin'"+l+"><div class='fc-event-time'>"+Ea(da(i.start,i.end,y("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ea(i.title)+"</div></div><div class='fc-event-bg'></div></div>";if(m.isEnd&&ja(i))v+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";v+="</"+(U?"a":"div")+">";return v}function h(i,m,v){aa(i)&&M(i,m,v.isStart);v.isEnd&&ja(i)&&H(i,m,v);T(i,m)}function e(i,
m,v){var U=m.find("div.fc-event-time");aa(i)&&L(i,m,U);v.isEnd&&ja(i)&&P(i,m,U);T(i,m)}function s(){var i=ya(),m=i.children(".fc-timeline");if(m.length==0)m=o("<hr>").addClass("fc-timeline").appendTo(i);var v=new Date;if(w.visStart<v&&w.visEnd>v){m.show();v=(v.getHours()*60*60+v.getMinutes()*60+v.getSeconds())/86400;m.css("top",Math.floor(i.height()*v-1)+"px");if(w.name=="agendaWeek"){v=o(".fc-today",w.element);i=v.position().left+1;v=v.width();m.css({left:i+"px",width:v+"px"})}}else m.hide()}function M(i,
m,v){function U(){if(!u){m.width(A).height("").draggable("option","grid",null);u=true}}var A,l,u=true,Z,na=y("isRTL")?-1:1,qa=D(),oa=pa(),ta=ia(),x=R();m.draggable({zIndex:9,opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(I,Y){la("eventDragStart",m,i,I,Y);B(i,m);A=m.width();qa.start(function(O,ka,fa,ua){k();if(O){l=false;Z=ua*na;if(O.row)if(v){if(u){m.width(oa-10);Hb(m,ta*Math.round((i.end?(i.end-i.start)/xc:y("defaultEventMinutes"))/y("slotMinutes")));m.draggable("option",
"grid",[oa,1]);u=false}}else l=true;else{V(ga(G(i.start),Z),ga(Wa(i),Z));U()}l=l||u&&!Z}else{U();l=true}m.draggable("option","revert",l)},I,"drag")},stop:function(I,Y){qa.stop();k();la("eventDragStop",m,i,I,Y);if(l){U();m.css("filter","");ha(i,m)}else{var O=0;u||(O=Math.round((m.offset().top-ya().offset().top)/ta)*y("slotMinutes")+x-(i.start.getHours()*60+i.start.getMinutes()));Q(this,i,Z,O,u,I,Y)}}})}function L(i,m,v){function U(O){var ka=wa(G(i.start),O),fa;if(i.end)fa=wa(G(i.end),O);v.text(da(ka,
fa,y("timeFormat")))}function A(){if(u){v.css("display","");m.draggable("option","grid",[I,Y]);u=false}}var l,u=false,Z,na,qa,oa=y("isRTL")?-1:1,ta=D(),x=ma(),I=pa(),Y=ia();m.draggable({zIndex:9,scroll:false,grid:[I,Y],axis:x==1?"y":false,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(O,ka){la("eventDragStart",m,i,O,ka);B(i,m);l=m.position();na=qa=0;ta.start(function(fa,ua,va,Ca){m.draggable("option","revert",!fa);k();if(fa){Z=Ca*oa;if(y("allDaySlot")&&!fa.row){if(!u){u=
true;v.hide();m.draggable("option","grid",null)}V(ga(G(i.start),Z),ga(Wa(i),Z))}else A()}},O,"drag")},drag:function(O,ka){na=Math.round((ka.position.top-l.top)/Y)*y("slotMinutes");if(na!=qa){u||U(na);qa=na}},stop:function(O,ka){var fa=ta.stop();k();la("eventDragStop",m,i,O,ka);if(fa&&(Z||na||u))Q(this,i,Z,u?0:na,u,O,ka);else{A();m.css("filter","");m.css(l);U(0);ha(i,m)}}})}function P(i,m,v){var U,A,l=ia();m.resizable({handles:{s:"div.ui-resizable-s"},grid:l,start:function(u,Z){U=A=0;B(i,m);m.css("z-index",
9);la("eventResizeStart",this,i,u,Z)},resize:function(u,Z){U=Math.round((Math.max(l,m.height())-Z.originalSize.height)/l);if(U!=A){v.text(da(i.start,!U&&!i.end?null:wa(C(i),y("slotMinutes")*U),y("timeFormat")));A=U}},stop:function(u,Z){la("eventResizeStop",this,i,u,Z);if(U)K(this,i,0,y("slotMinutes")*U,u,Z);else{m.css("z-index",8);ha(i,m)}}})}var w=this;w.renderEvents=a;w.compileDaySegs=g;w.clearEvents=c;w.slotSegHtml=r;w.bindDaySeg=h;wb.call(w);var y=w.opt,la=w.trigger,aa=w.isEventDraggable,ja=w.isEventResizable,
C=w.eventEnd,ca=w.reportEvents,X=w.reportEventClear,T=w.eventElementHandlers,$=w.setHeight,W=w.getDaySegmentContainer,z=w.getSlotSegmentContainer,D=w.getHoverListener,ba=w.getMaxMinute,R=w.getMinMinute,p=w.timePosition,b=w.colContentLeft,q=w.colContentRight,t=w.renderDaySegs,H=w.resizableDayEvent,ma=w.getColCnt,pa=w.getColWidth,ia=w.getSlotHeight,ya=w.getBodyContent,N=w.reportEventElement,ha=w.showEvents,B=w.hideEvents,Q=w.eventDrop,K=w.eventResize,V=w.renderDayOverlay,k=w.clearOverlays,F=w.calendar,
ea=F.formatDate,da=F.formatDates,xa}function wc(a){var c,g,d,f,j,r;for(c=a.length-1;c>0;c--){f=a[c];for(g=0;g<f.length;g++){j=f[g];for(d=0;d<a[c-1].length;d++){r=a[c-1][d];if(Fb(j,r))r.forward=Math.max(r.forward||0,(j.forward||0)+1)}}}}function db(a,c,g){function d(p,b){p=R[p];if(typeof p=="object"&&!p.length)return mb(p,b||g);return p}function f(p,b){return c.trigger.apply(c,[p,b||X].concat(Array.prototype.slice.call(arguments,2),[X]))}function j(p){return h(p)&&!d("disableDragging")}function r(p){return h(p)&&
!d("disableResizing")}function h(p){return Va(p.editable,(p.source||{}).editable,d("editable"))}function e(p){z={};var b,q=p.length,t;for(b=0;b<q;b++){t=p[b];if(z[t._id])z[t._id].push(t);else z[t._id]=[t]}}function s(p){return p.end?G(p.end):T(p)}function M(p,b){D.push(b);if(ba[p._id])ba[p._id].push(b);else ba[p._id]=[b]}function L(){D=[];ba={}}function P(p,b){b.click(function(q){if(!b.hasClass("ui-draggable-dragging")&&!b.hasClass("ui-resizable-resizing"))return f("eventClick",this,p,q)}).hover(function(q){f("eventMouseover",
this,p,q)},function(q){f("eventMouseout",this,p,q)})}function w(p,b){la(p,b,"show")}function y(p,b){la(p,b,"hide")}function la(p,b,q){p=ba[p._id];var t,H=p.length;for(t=0;t<H;t++)if(!b||p[t][0]!=b[0])p[t][q]()}function aa(p,b,q,t,H,ma,pa){var ia=b.allDay,ya=b._id;C(z[ya],q,t,H);f("eventDrop",p,b,q,t,H,function(){C(z[ya],-q,-t,ia);W(ya)},ma,pa);W(ya)}function ja(p,b,q,t,H,ma){var pa=b._id;ca(z[pa],q,t);f("eventResize",p,b,q,t,function(){ca(z[pa],-q,-t);W(pa)},H,ma);W(pa)}function C(p,b,q,t){q=q||0;
for(var H,ma=p.length,pa=0;pa<ma;pa++){H=p[pa];if(t!==ra)H.allDay=t;wa(ga(H.start,b,true),q);if(H.end)H.end=wa(ga(H.end,b,true),q);$(H,R)}}function ca(p,b,q){q=q||0;for(var t,H=p.length,ma=0;ma<H;ma++){t=p[ma];t.end=wa(ga(s(t),b,true),q);$(t,R)}}var X=this;X.element=a;X.calendar=c;X.name=g;X.opt=d;X.trigger=f;X.isEventDraggable=j;X.isEventResizable=r;X.reportEvents=e;X.eventEnd=s;X.reportEventElement=M;X.reportEventClear=L;X.eventElementHandlers=P;X.showEvents=w;X.hideEvents=y;X.eventDrop=aa;X.eventResize=
ja;var T=X.defaultEventEnd,$=c.normalizeEvent,W=c.reportEventChange,z={},D=[],ba={},R=c.options}function wb(){function a(B,Q){var K=ma(),V=z(),k=D(),F=0,ea,da,xa=B.length,i,m,v,U,A=la("maxHeight");K[0].innerHTML=d(B);f(B,K.children());j(B);r(B,K,Q);h(B);e(B);s(B);Q=M();for(K=0;K<V;K++){v=[];U={};ea=[];for(da=0;da<k;da++){v[da]=0;ea[da]=0}for(;F<xa&&(i=B[F]).row==K;){da=Kb(ea.slice(i.startCol,i.endCol));if(A&&da+i.outerHeight>A)i.overflow=true;else{i.top=da;da+=i.outerHeight}for(m=i.startCol;m<i.endCol;m++){if(v[m])i.overflow=
true;if(i.overflow){if(i.isStart&&!U[m])U[m]={seg:i,top:da,date:G(i.start,true),count:0};U[m]&&U[m].count++;v[m]++}else ea[m]=da}F++}Q[K].height(Kb(ea));c(U,Q[K])}P(B,L(Q))}function c(B,Q){for(var K=ma(),V=D(),k,F,ea=0;ea<V;ea++)if(F=B[ea])if(F.count>1){k=o("<a>").addClass("fc-more-link").html("+"+F.count).appendTo(K);k[0].style.position="absolute";k[0].style.left=F.seg.left+"px";k[0].style.top=F.top+Q[0].offsetTop+"px";F=aa("overflowRender",F,{count:F.count,date:F.date},k);F===false&&k.remove()}else{F.seg.top=
F.top;F.seg.overflow=false}}function g(B,Q,K){var V=o("<div/>"),k=ma(),F=B.length,ea;V[0].innerHTML=d(B);V=V.children();k.append(V);f(B,V);h(B);e(B);s(B);P(B,L(M()));V=[];for(k=0;k<F;k++)if(ea=B[k].element){B[k].row===Q&&ea.css("top",K);V.push(ea[0])}return o(V)}function d(B){var Q=la("isRTL"),K,V=B.length,k,F,ea,da;K=R();var xa=K.left,i=K.right,m,v,U,A,l,u="";for(K=0;K<V;K++){k=B[K];F=k.event;da=["fc-event","fc-event-skin","fc-event-hori"];ja(F)&&da.push("fc-event-draggable");if(Q){k.isStart&&da.push("fc-corner-right");
k.isEnd&&da.push("fc-corner-left");m=q(k.end.getDay()-1);v=q(k.start.getDay());U=k.isEnd?p(m):xa;A=k.isStart?b(v):i}else{k.isStart&&da.push("fc-corner-left");k.isEnd&&da.push("fc-corner-right");m=q(k.start.getDay());v=q(k.end.getDay()-1);U=k.isStart?p(m):xa;A=k.isEnd?b(v):i}da=da.concat(F.className);if(F.source)da=da.concat(F.source.className||[]);ea=F.url;l=cb(F,la);u+=ea?"<a href='"+Ea(ea)+"'":"<div";u+=" class='"+da.join(" ")+"' style='position:absolute;z-index:8;left:"+U+"px;"+l+"'><div class='fc-event-inner fc-event-skin'"+
(l?" style='"+l+"'":"")+">";if(!F.allDay&&k.isStart)u+="<span class='fc-event-time'>"+Ea(ia(F.start,F.end,la("timeFormat")))+"</span>";u+="<span class='fc-event-title'>"+Ea(F.title)+"</span></div>";if(k.isEnd&&C(F))u+="<div class='ui-resizable-handle ui-resizable-"+(Q?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";u+="</"+(ea?"a":"div")+">";k.left=U;k.outerWidth=A-U;k.startCol=m;k.endCol=v+1}return u}function f(B,Q){var K,V=B.length,k,F,ea;for(K=0;K<V;K++){k=B[K];F=k.event;ea=o(Q[K]);F=aa("eventRender",F,
F,ea);if(F===false)ea.remove();else{if(F&&F!==true){F=o(F).css({position:"absolute",left:k.left});ea.replaceWith(F);ea=F}k.element=ea}}}function j(B){var Q,K=B.length,V,k;for(Q=0;Q<K;Q++){V=B[Q];(k=V.element)&&X(V.event,k)}}function r(B,Q,K){var V,k=B.length,F,ea,da;for(V=0;V<k;V++){F=B[V];if(ea=F.element){da=F.event;if(da._id===K)pa(da,ea,F);else ea[0]._fci=V}}Gb(Q,B,pa)}function h(B){var Q,K=B.length,V,k,F,ea,da={};for(Q=0;Q<K;Q++){V=B[Q];if(k=V.element){F=V.key=Lb(k[0]);ea=da[F];if(ea===ra)ea=
da[F]=sb(k,true);V.hsides=ea}}}function e(B){var Q,K=B.length,V,k;for(Q=0;Q<K;Q++){V=B[Q];if(k=V.element)k[0].style.width=Math.max(0,V.outerWidth-V.hsides)+"px"}}function s(B){var Q,K=B.length,V,k,F,ea,da={};for(Q=0;Q<K;Q++){V=B[Q];if(k=V.element){F=V.key;ea=da[F];if(ea===ra)ea=da[F]=Ib(k);V.outerHeight=k[0].offsetHeight+ea}else V.outerHeight=0}}function M(){var B,Q=z(),K=[];for(B=0;B<Q;B++)K[B]=ba(B).find("td:first div.fc-day-content > div");return K}function L(B){var Q,K=B.length,V=[];for(Q=0;Q<
K;Q++)V[Q]=B[Q][0].offsetTop;return V}function P(B,Q){var K,V=B.length,k,F;for(K=0;K<V;K++){k=B[K];if((F=k.element)&&!k.overflow){F[0].style.top=Q[k.row]+(k.top||0)+"px";k=k.event;aa("eventAfterRender",k,k,F)}else F&&F.hide()}}function w(B,Q,K){var V=la("isRTL"),k=V?"w":"e",F=Q.find("div.ui-resizable-"+k),ea=false;tb(Q);Q.mousedown(function(da){da.preventDefault()}).click(function(da){if(ea){da.preventDefault();da.stopImmediatePropagation()}});F.mousedown(function(da){function xa(oa){aa("eventResizeStop",
this,B,oa);o("body").css("cursor","");i.stop();N();u&&W(this,B,u,0,oa);setTimeout(function(){ea=false},0)}if(da.which==1){ea=true;var i=y.getHoverListener(),m=z(),v=D(),U=V?-1:1,A=V?v-1:0,l=Q.css("top"),u,Z,na=o.extend({},B),qa=t(B.start);ha();o("body").css("cursor",k+"-resize").one("mouseup",xa);aa("eventResizeStart",this,B,da);i.start(function(oa,ta){if(oa){var x=Math.max(qa.row,oa.row);oa=oa.col;if(m==1)x=0;if(x==qa.row)oa=V?Math.min(qa.col,oa):Math.max(qa.col,oa);u=x*7+oa*U+A-(ta.row*7+ta.col*
U+A);ta=ga(ca(B),u,true);if(u){na.end=ta;x=Z;Z=g(H([na]),K.row,l);Z.find("*").css("cursor",k+"-resize");x&&x.remove();$(B)}else if(Z){T(B);Z.remove();Z=null}N();ya(B.start,ga(G(ta),1))}},da)}})}var y=this;y.renderDaySegs=a;y.resizableDayEvent=w;var la=y.opt,aa=y.trigger,ja=y.isEventDraggable,C=y.isEventResizable,ca=y.eventEnd,X=y.reportEventElement,T=y.showEvents,$=y.hideEvents,W=y.eventResize,z=y.getRowCnt,D=y.getColCnt,ba=y.allDayRow,R=y.allDayBounds,p=y.colContentLeft,b=y.colContentRight,q=y.dayOfWeekCol,
t=y.dateCell,H=y.compileDaySegs,ma=y.getDaySegmentContainer,pa=y.bindDaySeg,ia=y.calendar.formatDates,ya=y.renderDayOverlay,N=y.clearOverlays,ha=y.clearSelection}function Ob(){function a(L,P,w){c();P||(P=h(L,w));e(L,P,w);g(L,P,w)}function c(L){if(M){M=false;s();r("unselect",null,L)}}function g(L,P,w,y){M=true;r("select",null,L,P,w,y)}function d(L){var P=f.cellDate,w=f.cellIsAllDay,y=f.getHoverListener(),la=f.reportDayClick;if(L.which==1&&j("selectable")){c(L);var aa;y.start(function(ja,C){s();if(ja&&
w(ja)){aa=[P(C),P(ja)].sort(Jb);e(aa[0],aa[1],true)}else aa=null},L);o(document).one("mouseup",function(ja){y.stop();if(aa){+aa[0]==+aa[1]&&la(aa[0],true,ja);g(aa[0],aa[1],true,ja)}})}}var f=this;f.select=a;f.unselect=c;f.reportSelection=g;f.daySelectionMousedown=d;var j=f.opt,r=f.trigger,h=f.defaultSelectionEnd,e=f.renderSelection,s=f.clearSelection,M=false;j("selectable")&&j("unselectAuto")&&o(document).mousedown(function(L){var P=j("unselectCancel");if(P)if(o(L.target).parents(P).length)return;
c(L)})}function Nb(){function a(j,r){var h=f.shift();h||(h=o("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));h[0].parentNode!=r[0]&&h.appendTo(r);d.push(h.css(j).show());return h}function c(){for(var j;j=d.shift();)f.push(j.hide().unbind())}var g=this;g.renderOverlay=a;g.clearOverlays=c;var d=[],f=[]}function Pb(a){var c=this,g,d;c.build=function(){g=[];d=[];a(g,d)};c.cell=function(f,j){var r=g.length,h=d.length,e,s=-1,M=-1;for(e=0;e<r;e++)if(j>=g[e][0]&&j<g[e][1]){s=e;break}for(e=
0;e<h;e++)if(f>=d[e][0]&&f<d[e][1]){M=e;break}return s>=0&&M>=0?{row:s,col:M}:null};c.rect=function(f,j,r,h,e){e=e.offset();return{top:g[f][0]-e.top,left:d[j][0]-e.left,width:d[h][1]-d[j][0],height:g[r][1]-g[f][0]}}}function Qb(a){function c(h){yc(h);h=a.cell(h.pageX,h.pageY);if(!h!=!r||h&&(h.row!=r.row||h.col!=r.col)){if(h){j||(j=h);f(h,j,h.row-j.row,h.col-j.col)}else f(h,j);r=h}}var g=this,d,f,j,r;g.start=function(h,e,s){f=h;j=r=null;a.build();c(e);d=s||"mousemove";o(document).bind(d,c)};g.stop=
function(){o(document).unbind(d,c);return r}}function yc(a){if(a.pageX===ra){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Rb(a){function c(r){return d[r]=d[r]||a(r)}var g=this,d={},f={},j={};g.left=function(r){return f[r]=f[r]===ra?c(r).position().left:f[r]};g.right=function(r){return j[r]=j[r]===ra?g.left(r)+c(r).width():j[r]};g.clear=function(){d={};f={};j={}}}function Zb(){function a(){L();y().empty()}function c(C,ca){C.sort(d);M(C);f(g(C),ca)}function g(C){var ca=[],X=
e("titleFormat","day"),T=e("firstDay"),$=e("listSections"),W,z,D,ba,R,p,b,q=-1,t=Ia(new Date),H=ga(G(t),-((t.getDay()-T+7)%7));for(W=0;W<C.length;W++){T=C[W];if(!((T.end||T.start)<h.start||T.start>h.visEnd)){b=G(T.start<h.start&&T.end>h.start?h.start:T.start,true);z=Ba(b,t);D=Math.floor(Ba(b,H)/7);ba=b.getMonth()+(b.getYear()-t.getYear())*12-t.getMonth();if($=="smart")if(z<0)R=e("listTexts","past");else if(z==0)R=e("listTexts","today");else if(z==1)R=e("listTexts","tomorrow");else if(D==0)R=e("listTexts",
"thisWeek");else if(D==1)R=e("listTexts","nextWeek");else if(ba==0)R=e("listTexts","thisMonth");else if(ba==1)R=e("listTexts","nextMonth");else{if(ba>1)R=e("listTexts","future")}else R=$=="month"?aa(b,"MMMM yyyy"):$=="week"?e("listTexts","week")+aa(b," W"):$=="day"?aa(b,X):"";if(R!=p){ca[++q]={events:[],start:b,title:R,daydiff:z,weekdiff:D,monthdiff:ba};p=R}ca[q].events.push(T)}}return ca}function d(C,ca){return C.start.getTime()-ca.start.getTime()||(C.end?C.end.getTime():0)-(ca.end?ca.end.getTime():
0)}function f(C,ca){var X=e("theme")?"ui":"fc",T=X+"-widget-header";X=X+"-widget-content";var $,W,z,D,ba,R,p,b,q;for(W=0;W<C.length;W++){z=C[W];z.title&&o('<div class="fc-list-header '+T+'">'+Ea(z.title)+"</div>").appendTo(y());q=o("<div>").addClass("fc-list-section "+X).appendTo(y());R="";for($=0;$<z.events.length;$++){D=z.events[$];ba=j(D,z);p=(p=cb(D,e))?" style='"+p+"'":"";b=["fc-event","fc-event-skin","fc-event-vert","fc-corner-top","fc-corner-bottom"].concat(D.className);if(D.source&&D.source.className)b=
b.concat(D.source.className);R+="<div class='"+b.join(" ")+"'"+p+"><div class='fc-event-inner fc-event-skin'"+p+"><div class='fc-event-head fc-event-skin'"+p+"><div class='fc-event-time'>"+(ba[0]?'<span class="fc-col-date">'+ba[0]+"</span> ":"")+(ba[1]?'<span class="fc-col-time">'+ba[1]+"</span>":"")+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ea(D.title)+"</div></div><div class='fc-event-bg'></div></div></div>"}q[0].innerHTML=R;R=q.children();for($=0;$<z.events.length;$++){D=
z.events[$];ba=o(R[$]);p=s("eventRender",D,D,ba);if(p===false)ba.remove();else{if(p&&p!==true){ba.remove();ba=o(p).appendTo(q)}if(D._id===ca)w(D,ba,z);else ba[0]._fci=$;P(D,ba)}}r(q,z,w)}Sa(y())}function j(C,ca){var X=e("timeFormat"),T=e("columnFormat"),$=e("listSections"),W=C.end?C.end.getTime()-C.start.getTime():0,z="",D="";if($=="smart")if(C.start<ca.start)z=e("listTexts","until")+" "+aa(C.end,C.allDay||C.end.getDate()!=ca.start.getDate()?T:X);else if(W>Qa)z=ja(C.start,C.end,T+"{ - "+T+"}");else if(ca.daydiff==
0)z=e("listTexts","today");else if(ca.daydiff==1)z=e("listTexts","tomorrow");else if(ca.weekdiff==0||ca.weekdiff==1)z=aa(C.start,"dddd");else{if(ca.daydiff>1||ca.daydiff<0)z=aa(C.start,T)}else if($!="day")z=ja(C.start,C.end,T+(W>Qa?"{ - "+T+"}":""));if(!z&&C.allDay)D=e("allDayText");else if((W<Qa||!z)&&!C.allDay)D=ja(C.start,C.end,X);return[z,D]}function r(C,ca,X){C.unbind("mouseover").mouseover(function(T){for(var $=T.target,W=$;$!=this;){W=$;$=$.parentNode}if(($=W._fci)!==ra){W._fci=ra;W=ca.events[$];
X(W,C.children().eq($),ca);o(T.target).trigger(T)}T.stopPropagation()})}var h=this;h.renderEvents=c;h.renderEventTime=j;h.compileDaySegs=g;h.clearEvents=a;h.lazySegBind=r;h.sortCmp=d;wb.call(h);var e=h.opt,s=h.trigger,M=h.reportEvents,L=h.reportEventClear,P=h.reportEventElement,w=h.eventElementHandlers,y=h.getDaySegmentContainer,la=h.calendar,aa=la.formatDate,ja=la.formatDates}function zc(a,c){function g(ja,C){C&&ga(ja,s("listPage")*C);e.start=e.visStart=G(ja,true);e.end=ga(G(e.start),s("listPage"));
e.visEnd=ga(G(e.start),s("listRange"));wa(e.visEnd,-1);e.title=L(ja,e.visEnd,s("titleFormat"));d();P?M():f()}function d(){w=s("firstDay");y=s("weekends")?0:1;la=s("theme")?"ui":"fc";aa=s("columnFormat","day")}function f(){P=o("<div>").addClass("fc-list-content").appendTo(a)}function j(ja){s("listNoHeight")||P.css("height",ja-1+"px").css("overflow","auto")}function r(){}function h(){}var e=this;e.render=g;e.select=h;e.unselect=h;e.getDaySegmentContainer=function(){return P};db.call(e,a,c,"list");Zb.call(e);
var s=e.opt,M=e.clearEvents,L=c.formatDates;e.setWidth=r;e.setHeight=j;var P,w,y,la,aa}function Ac(){function a(){s();w().children("tbody").remove()}function c(la,aa){la.sort(j);e(la);g(h(la),aa);w().removeClass("fc-list-smart fc-list-day fc-list-month fc-list-week").addClass("fc-list-"+f("listSections"))}function g(la,aa){var ja=f("theme")?"ui":"fc",C=w(),ca=ja+"-widget-header";ja=ja+"-widget-content";var X=f("tableCols"),T=o.inArray("time",X)>=0,$,W,z,D,ba,R,p,b,q,t;for(W=0;W<la.length;W++){z=la[W];
z.title&&o('<tbody class="fc-list-header"><tr><td class="fc-list-header '+ca+'" colspan="'+X.length+'">'+Ea(z.title)+"</td></tr></tbody>").appendTo(C);t=o("<tbody>").addClass("fc-list-section "+ja).appendTo(C);R="";for($=0;$<z.events.length;$++){D=z.events[$];ba=P(D,z);p=(p=cb(D,f))?" style='"+p+"'":"";b=["fc-event-skin","fc-corner-left","fc-corner-right","fc-corner-top","fc-corner-bottom"].concat(D.className);if(D.source&&D.source.className)b=b.concat(D.source.className);q=["fc-event","fc-event-row",
"fc-"+Mb[D.start.getDay()]];z.daydiff==0&&q.push("fc-today");R+="<tr class='"+q.join(" ")+"'>";for(var H=0;H<X.length;H++){q=X[H];if(q=="handle")R+="<td class='fc-event-handle'><div class='"+b.join(" ")+"'"+p+"><span class='fc-event-inner'></span></div></td>";else if(q=="date")R+="<td class='fc-event-date' colspan='"+(ba[1]||!T?1:2)+"'>"+Ea(ba[0])+"</td>";else if(q=="time"){if(ba[1])R+="<td class='fc-event-time'>"+Ea(ba[1])+"</td>"}else R+="<td class='fc-event-"+q+"'>"+(D[q]?Ea(D[q]):"&nbsp;")+"</td>"}R+=
"</tr>";if(document.all){o(R).appendTo(t);R=""}}if(!document.all)t[0].innerHTML=R;ba=t.children();for($=0;$<z.events.length;$++){D=z.events[$];R=o(ba[$]);p=r("eventRender",D,D,R);if(p===false)R.remove();else{if(p&&p!==true){R.remove();R=o(p).appendTo(t)}if(D._id===aa)L(D,R,z);else R[0]._fci=$;M(D,R)}}y(t,z,L);Sa(t)}}var d=this;Zb.call(d);var f=d.opt,j=d.sortCmp,r=d.trigger,h=d.compileDaySegs,e=d.reportEvents,s=d.reportEventClear,M=d.reportEventElement,L=d.eventElementHandlers,P=d.renderEventTime,
w=d.getDaySegmentContainer,y=d.lazySegBind;d.renderEvents=c;d.clearEvents=a}function Bc(a,c){function g(ca,X){X&&ga(ca,s("listPage")*X);e.start=e.visStart=G(ca,true);e.end=ga(G(e.start),s("listPage"));e.visEnd=ga(G(e.start),s("listRange"));wa(e.visEnd,-1);e.title=e.visEnd.getTime()-e.visStart.getTime()<Qa?P(ca,s("titleFormat")):L(ca,e.visEnd,s("titleFormat"));d();y?M():f()}function d(){la=s("firstDay");aa=s("weekends")?0:1;ja=s("theme")?"ui":"fc";C=s("columnFormat")}function f(){for(var ca=s("tableCols"),
X="<table class='fc-border-separate' style='width:100%' cellspacing='0'><colgroup>",T=0;T<ca.length;T++)X+="<col class='fc-event-"+ca[T]+"' />";X+="</colgroup></table>";w=o("<div>").addClass("fc-list-content").appendTo(a);y=o(X).appendTo(w)}function j(ca){s("listNoHeight")||w.css("height",ca-1+"px").css("overflow","auto")}function r(){}function h(){}var e=this;e.render=g;e.select=h;e.unselect=h;e.getDaySegmentContainer=function(){return y};db.call(e,a,c,"table");Ac.call(e);var s=e.opt,M=e.clearEvents,
L=c.formatDates,P=c.formatDate;e.setWidth=r;e.setHeight=j;var w,y,la,aa,ja,C}var $a={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,currentTimeIndicator:false,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy",list:"MMM d, yyyy",table:"MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d",
list:"dddd, MMM d, yyyy",table:"MMM d, yyyy"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",
prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day",list:"list",table:"table"},listTexts:{until:"until",past:"Past events",today:"Today",tomorrow:"Tomorrow",thisWeek:"This week",nextWeek:"Next week",thisMonth:"This month",nextMonth:"Next month",future:"Future events",week:"W"},listSections:"month",listRange:30,listPage:7,tableCols:["handle","date","time","title"],theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},
unselectAuto:true,dropAccept:"*"},Cc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=o.fullCalendar={version:"1.5.3-rcube-0.7.1"},Ha=Aa.views={};o.fn.fullCalendar=function(a){if(typeof a=="string"){var c=Array.prototype.slice.call(arguments,1),g;this.each(function(){var f=o.data(this,"fullCalendar");
if(f&&o.isFunction(f[a])){f=f[a].apply(f,c);if(g===ra)g=f;a=="destroy"&&o.removeData(this,"fullCalendar")}});if(g!==ra)return g;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=o.extend(true,{},$a,a.isRTL||a.isRTL===ra&&$a.isRTL?Cc:{},a);this.each(function(f,j){f=o(j);j=new $b(f,a,d);f.data("fullCalendar",j);j.render()});return this};Aa.sourceNormalizers=[];Aa.sourceFetchers=[];var cc={dataType:"json",cache:false},dc=1;Aa.addDays=ga;Aa.cloneDate=
G;Aa.parseDate=nb;Aa.parseISO8601=Eb;Aa.parseTime=pb;Aa.formatDate=Pa;Aa.formatDates=lb;var Mb=["sun","mon","tue","wed","thu","fri","sat"],Qa=864E5,ec=36E5,xc=6E4,fc={s:function(a){return a.getSeconds()},ss:function(a){return Ra(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Ra(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Ra(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Ra(a.getHours())},d:function(a){return a.getDate()},
dd:function(a){return Ra(a.getDate())},ddd:function(a,c){return c.dayNamesShort[a.getDay()]},dddd:function(a,c){return c.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Ra(a.getMonth()+1)},MMM:function(a,c){return c.monthNamesShort[a.getMonth()]},MMMM:function(a,c){return c.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<
12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Pa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"},W:function(a){return Dc(a)}},Dc=function(a){a=G(a);a.setDate(a.getDate()+4-(a.getDay()||7));var c=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((c-a)/864E5)/7)+1};Aa.applyAll=bb;Ha.month=nc;Ha.basicWeek=oc;Ha.basicDay=pc;Ab({weekMode:"fixed"});
Ha.agendaWeek=rc;Ha.agendaDay=sc;Ab({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});Ha.list=zc;Ha.table=Bc})(jQuery);
