/*

 FullCalendar v1.5.3
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Sun Jul 8 16:43:02 2012 -0700

*/
(function(k,ma){function wb(a){k.extend(true,Ya,a)}function Yb(a,b,e){function d(m){if(u){v();p();va();S(m)}else f()}function f(){V=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");u=k("<div class='fc-content' style='position:relative'/>").prependTo(a);I=new Zb($,b);(O=I.render())&&a.prepend(O);z(b.defaultView);k(window).resize(na);q()||g()}function g(){setTimeout(function(){!x.start&&q()&&S()},0)}function l(){k(window).unbind("resize",na);I.destroy();
u.remove();a.removeClass("fc fc-rtl ui-widget")}function j(){return D.offsetWidth!==0}function q(){return k("body")[0].offsetWidth!==0}function z(m){if(!x||m!=x.name){s++;U();var E=x,Z;if(E){(E.beforeHide||xb)();Za(u,u.height());E.element.hide()}else Za(u,1);u.css("overflow","hidden");if(x=X[m])x.element.show();else x=X[m]=new Ja[m](Z=t=k("<div class='fc-view fc-view-"+m+"' style='position:absolute'/>").appendTo(u),$);E&&I.deactivateButton(E.name);I.activateButton(m);S();u.css("overflow","");E&&Za(u,
1);Z||(x.afterShow||xb)();s--}}function S(m){if(j()){s++;U();r===ma&&v();var E=false;if(!x.start||m||A<x.start||A>=x.end){x.render(A,m||0);ga(true);E=true}else if(x.sizeDirty){x.clearEvents();ga();E=true}else if(x.eventsDirty){x.clearEvents();E=true}x.sizeDirty=false;x.eventsDirty=false;ha(E);n=a.outerWidth();I.updateTitle(x.title);m=new Date;m>=x.start&&m<x.end?I.disableButton("today"):I.enableButton("today");s--;x.trigger("viewDisplay",D)}}function P(){p();if(j()){v();ga();U()}oa()}function p(){k.each(X,
function(m,E){E.sizeDirty=true})}function v(){r=b.contentHeight?b.contentHeight:b.height?b.height-(O?O.height():0)-Sa(u):Math.round(u.width()/Math.max(b.aspectRatio,0.5))}function ga(m){s++;x.setHeight(r,m);if(t){t.css("position","relative");t=null}x.setWidth(u.width(),m);s--}function na(){if(!s)if(x.start){var m=++Q;setTimeout(function(){if(m==Q&&!s&&j())if(n!=(n=a.outerWidth())){s++;P();x.trigger("windowResize",D);s--}},200)}else g()}function ha(m){if(!b.lazyFetching||J(x.visStart,x.visEnd))qa();
else m&&ea()}function qa(){i(x.visStart,x.visEnd)}function ra(m){M=m;ea()}function ia(m){ea(m)}function ea(m){va();oa(m)}function oa(m){var E=b.filterEvents;E=k.isFunction(E)?k.grep(M,E,true):M;if(j()){x.clearEvents();x.renderEvents(E,m);x.eventsDirty=false}}function va(){k.each(X,function(m,E){E.eventsDirty=true})}function sa(m,E,Z){x.select(m,E,Z===ma?true:Z)}function U(){x&&x.unselect()}function da(){S(-1)}function la(){S(1)}function pa(){gb(A,-1);S()}function F(){gb(A,1);S()}function o(){A=new Date;
S()}function K(m,E,Z){if(m instanceof Date)A=L(m);else yb(A,m,E,Z);S()}function c(m,E,Z){m!==ma&&gb(A,m);E!==ma&&hb(A,E);Z!==ma&&ca(A,Z);S()}function B(){return L(A)}function G(){return x}function T(m,E){if(E===ma)return b[m];if(m=="height"||m=="contentHeight"||m=="aspectRatio"){b[m]=E;P()}if(m=="filterEvents"){b[m]=E;ea()}}function ua(m,E){if(b[m])return b[m].apply(E||D,Array.prototype.slice.call(arguments,2))}var $=this;$.options=b;$.render=d;$.destroy=l;$.refetchEvents=qa;$.reportEvents=ra;$.reportEventChange=
ia;$.rerenderEvents=ea;$.changeView=z;$.select=sa;$.unselect=U;$.prev=da;$.next=la;$.prevYear=pa;$.nextYear=F;$.today=o;$.gotoDate=K;$.incrementDate=c;$.formatDate=function(m,E){return Oa(m,E,b)};$.formatDates=function(m,E,Z){return ib(m,E,Z,b)};$.getDate=B;$.getView=G;$.option=T;$.trigger=ua;$b.call($,b,e);var J=$.isFetchNeeded,i=$.fetchEvents,D=a[0],I,O,u,V,x,X={},n,r,t,Q=0,s=0,A=new Date,M=[],Y;yb(A,b.year,b.month,b.date);b.droppable&&k(document).bind("dragstart",function(m,E){var Z=m.target,ja=
k(Z);if(!ja.parents(".fc").length){var ka=b.dropAccept;if(k.isFunction(ka)?ka.call(Z,ja):ja.is(ka)){Y=Z;x.dragStart(Y,m,E)}}}).bind("dragstop",function(m,E){if(Y){x.dragStop(Y,m,E);Y=null}})}function Zb(a,b){function e(){p=b.theme?"ui":"fc";if(b.header)return P=k("<table class='fc-header' style='width:100%'/>").append(k("<tr/>").append(f("left")).append(f("center")).append(f("right")))}function d(){P.remove()}function f(v){var ga=k("<td class='fc-header-"+v+"'/>");(v=b.header[v])&&k.each(v.split(" "),
function(na){na>0&&ga.append("<span class='fc-header-space'/>");var ha;k.each(this.split(","),function(qa,ra){if(ra=="title"){ga.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ha&&ha.addClass(p+"-corner-right");ha=null}else{var ia;if(a[ra])ia=a[ra];else if(Ja[ra])ia=function(){oa.removeClass(p+"-state-hover");a.changeView(ra)};if(ia){qa=b.theme?jb(b.buttonIcons,ra):null;var ea=jb(b.buttonText,ra),oa=k("<span class='fc-button fc-button-"+ra+" "+p+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+
(qa?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+qa+"'/></span>":ea)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(oa){oa.click(function(){oa.hasClass(p+"-state-disabled")||ia()}).mousedown(function(){oa.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){oa.removeClass(p+"-state-down")}).hover(function(){oa.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){oa.removeClass(p+
"-state-hover").removeClass(p+"-state-down")}).appendTo(ga);ha||oa.addClass(p+"-corner-left");ha=oa}}}});ha&&ha.addClass(p+"-corner-right")});return ga}function g(v){P.find("h2").html(v)}function l(v){P.find("span.fc-button-"+v).addClass(p+"-state-active")}function j(v){P.find("span.fc-button-"+v).removeClass(p+"-state-active")}function q(v){P.find("span.fc-button-"+v).addClass(p+"-state-disabled")}function z(v){P.find("span.fc-button-"+v).removeClass(p+"-state-disabled")}var S=this;S.render=e;S.destroy=
d;S.updateTitle=g;S.activateButton=l;S.deactivateButton=j;S.disableButton=q;S.enableButton=z;var P=k([]),p}function $b(a,b){function e(c,B){return!da||c<da||B>la}function d(c,B){da=c;la=B;K=[];c=++pa;F=B=U.length;for(var G=0;G<B;G++)f(U[G],c)}function f(c,B){g(c,function(G){if(B==pa){if(G){for(var T=0;T<G.length;T++){G[T].source=c;na(G[T])}K=K.concat(G)}F--;F||va(K)}})}function g(c,B){var G,T=Aa.sourceFetchers,ua;for(G=0;G<T.length;G++){ua=T[G](c,da,la,B);if(ua===true)return;else if(typeof ua=="object"){g(ua,
B);return}}if(G=c.events)if(k.isFunction(G)){v();G(L(da),L(la),function(D){B(D);ga()})}else k.isArray(G)?B(G):B();else if(c.url){var $=c.success,J=c.error,i=c.complete;G=k.extend({},c.data||{});T=Ta(c.startParam,a.startParam);ua=Ta(c.endParam,a.endParam);if(T)G[T]=Math.round(+da/1E3);if(ua)G[ua]=Math.round(+la/1E3);v();k.ajax(k.extend({},ac,c,{data:G,success:function(D){D=D||[];var I=$a($,this,arguments);if(k.isArray(I))D=I;B(D)},error:function(){$a(J,this,arguments);B()},complete:function(){$a(i,
this,arguments);ga()}}))}else B()}function l(c){if(c=j(c)){F++;f(c,pa)}}function j(c){if(k.isFunction(c)||k.isArray(c))c={events:c};else if(typeof c=="string")c={url:c};if(typeof c=="object"){ha(c);U.push(c);return c}}function q(c){U=k.grep(U,function(B){return!qa(B,c)});K=k.grep(K,function(B){return!qa(B.source,c)});va(K)}function z(c){var B,G=K.length,T,ua=oa().defaultEventEnd,$=c.start-c._start,J=c.end?c.end-(c._end||ua(c)):0;for(B=0;B<G;B++){T=K[B];if(T._id==c._id&&T!=c){T.start=new Date(+T.start+
$);T.end=c.end?T.end?new Date(+T.end+J):new Date(+ua(T)+J):null;T.title=c.title;T.url=c.url;T.allDay=c.allDay;T.className=c.className;T.editable=c.editable;T.color=c.color;T.backgroudColor=c.backgroudColor;T.borderColor=c.borderColor;T.textColor=c.textColor;na(T)}}na(c);va(K)}function S(c,B){na(c);if(!c.source){if(B){sa.events.push(c);c.source=sa}K.push(c)}va(K)}function P(c){if(c){if(!k.isFunction(c)){var B=c+"";c=function(T){return T._id==B}}K=k.grep(K,c,true);for(G=0;G<U.length;G++)if(k.isArray(U[G].events))U[G].events=
k.grep(U[G].events,c,true)}else{K=[];for(var G=0;G<U.length;G++)if(k.isArray(U[G].events))U[G].events=[]}va(K)}function p(c){if(k.isFunction(c))return k.grep(K,c);else if(c){c+="";return k.grep(K,function(B){return B._id==c})}return K}function v(){o++||ea("loading",null,true)}function ga(){--o||ea("loading",null,false)}function na(c){var B=c.source||{},G=Ta(B.ignoreTimezone,a.ignoreTimezone);c._id=c._id||(c.id===ma?"_fc"+bc++:c.id+"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=L(c.start=
kb(c.start,G));c.end=kb(c.end,G);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?L(c.end):null;if(c.allDay===ma)c.allDay=Ta(B.allDayDefault,a.allDayDefault);if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}function ha(c){if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[];for(var B=Aa.sourceNormalizers,G=0;G<B.length;G++)B[G](c)}function qa(c,B){return c&&B&&ra(c)==ra(B)}function ra(c){return(typeof c==
"object"?c.events||c.url:"")||c}var ia=this;ia.isFetchNeeded=e;ia.fetchEvents=d;ia.addEventSource=l;ia.removeEventSource=q;ia.updateEvent=z;ia.renderEvent=S;ia.removeEvents=P;ia.clientEvents=p;ia.normalizeEvent=na;var ea=ia.trigger,oa=ia.getView,va=ia.reportEvents,sa={events:[]},U=[sa],da,la,pa=0,F=0,o=0,K=[];for(ia=0;ia<b.length;ia++)j(b[ia])}function gb(a,b,e){a.setFullYear(a.getFullYear()+b);e||Ka(a);return a}function hb(a,b,e){if(+a){b=a.getMonth()+b;var d=L(a);d.setDate(1);d.setMonth(b);a.setMonth(b);
for(e||Ka(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function ca(a,b,e){if(+a){b=a.getDate()+b;var d=L(a);d.setHours(9);d.setDate(b);a.setDate(b);e||Ka(a);lb(a,d)}return a}function lb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*cc)}function ya(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ka(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function L(a,b){if(b)return Ka(new Date(+a));return new Date(+a)}function zb(){var a=
0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Fa(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)ca(a,b);return a}function Ca(a,b){return Math.round((L(a,true)-L(b,true))/Ab)}function yb(a,b,e,d){if(b!==ma&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==ma&&e!=a.getMonth()){a.setDate(1);a.setMonth(e)}d!==ma&&a.setDate(d)}function kb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*
1E3);if(b===ma)b=true;return Bb(a,b)||(a?new Date(a):null)}return null}function Bb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var e=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);b.setDate(a[5])}lb(e,b);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+
a[12])*1E3);lb(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;e=new Date(+e+b*60*1E3)}}return e}function mb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],
10):0)}}function Oa(a,b,e){return ib(a,null,b,e)}function ib(a,b,e,d){d=d||Ya;var f=a,g=b,l,j=e.length,q,z,S,P="";for(l=0;l<j;l++){q=e.charAt(l);if(q=="'")for(z=l+1;z<j;z++){if(e.charAt(z)=="'"){if(f){P+=z==l+1?"'":e.substring(l+1,z);l=z}break}}else if(q=="(")for(z=l+1;z<j;z++){if(e.charAt(z)==")"){l=Oa(f,e.substring(l+1,z),d);if(parseInt(l.replace(/\D/,""),10))P+=l;l=z;break}}else if(q=="[")for(z=l+1;z<j;z++){if(e.charAt(z)=="]"){q=e.substring(l+1,z);l=Oa(f,q,d);if(l!=Oa(g,q,d))P+=l;l=z;break}}else if(q==
"{"){f=b;g=a}else if(q=="}"){f=a;g=b}else{for(z=j;z>l;z--)if(S=dc[e.substring(l,z)]){if(f)P+=S(f,d);l=z-1;break}if(z==l)if(f)P+=q}}return P}function Ua(a){return a.end?ec(a.end,a.allDay):ca(L(a.start),1)}function ec(a,b){a=L(a);return b||a.getHours()||a.getMinutes()?ca(a,1):Ka(a)}function fc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Cb(a,b){return a.end>b.start&&a.start<b.end}function nb(a,b,e,d){var f=[],g,l=a.length,j,q,z,S,P;for(g=0;g<l;g++){j=a[g];q=j.start;
z=b[g];if(z>e&&q<d){if(q<e){q=L(e);S=false}else{q=q;S=true}if(z>d){z=L(d);P=false}else{z=z;P=true}f.push({event:j,start:q,end:z,isStart:S,isEnd:P,msLength:z-q})}}return f.sort(fc)}function ob(a){var b=[],e,d=a.length,f,g,l,j;for(e=0;e<d;e++){f=a[e];for(g=0;;){l=false;if(b[g])for(j=0;j<b[g].length;j++)if(Cb(b[g][j],f)){l=true;break}if(l)g++;else break}if(b[g])b[g].push(f);else b[g]=[f]}return b}function Db(a,b,e){a.unbind("mouseover").mouseover(function(d){for(var f=d.target,g;f!=this;){g=f;f=f.parentNode}if((f=
g._fci)!==ma){g._fci=ma;g=b[f];e(g.event,g.element,g);k(d.target).trigger(d)}d.stopPropagation()})}function Va(a,b,e){for(var d=0,f;d<a.length;d++){f=k(a[d]);f.width(Math.max(0,b-pb(f,e)))}}function Eb(a,b,e){for(var d=0,f;d<a.length;d++){f=k(a[d]);f.height(Math.max(0,b-Sa(f,e)))}}function pb(a,b){return gc(a)+hc(a)+(b?ic(a):0)}function gc(a){return(parseFloat(k.curCSS(a[0],"paddingLeft",true))||0)+(parseFloat(k.curCSS(a[0],"paddingRight",true))||0)}function ic(a){return(parseFloat(k.curCSS(a[0],
"marginLeft",true))||0)+(parseFloat(k.curCSS(a[0],"marginRight",true))||0)}function hc(a){return(parseFloat(k.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(k.curCSS(a[0],"borderRightWidth",true))||0)}function Sa(a,b){return jc(a)+kc(a)+(b?Fb(a):0)}function jc(a){return(parseFloat(k.curCSS(a[0],"paddingTop",true))||0)+(parseFloat(k.curCSS(a[0],"paddingBottom",true))||0)}function Fb(a){return(parseFloat(k.curCSS(a[0],"marginTop",true))||0)+(parseFloat(k.curCSS(a[0],"marginBottom",true))||0)}
function kc(a){return(parseFloat(k.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(k.curCSS(a[0],"borderBottomWidth",true))||0)}function Za(a,b){b=typeof b=="number"?b+"px":b;a.each(function(e,d){d.style.cssText+=";min-height:"+b+";_height:"+b})}function xb(){}function Gb(a,b){return a-b}function Hb(a){return Math.max.apply(Math,a)}function Pa(a){return(a<10?"0":"")+a}function jb(a,b){if(a[b]!==ma)return a[b];b=b.split(/(?=[A-Z])/);for(var e=b.length-1,d;e>=0;e--){d=a[b[e].toLowerCase()];if(d!==
ma)return d}return a[""]}function Qa(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Ib(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function qb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function ab(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}
function rb(a,b){a.each(function(e,d){d.className=d.className.replace(/^fc-\w*/,"fc-"+lc[b.getDay()])})}function Jb(a,b){var e=a.source||{},d=a.color,f=e.color,g=b("eventColor"),l=a.backgroundColor||d||e.backgroundColor||f||b("eventBackgroundColor")||g;d=a.borderColor||d||e.borderColor||f||b("eventBorderColor")||g;a=a.textColor||e.textColor||b("eventTextColor");b=[];l&&b.push("background-color:"+l);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")}function $a(a,b,e){if(k.isFunction(a))a=
[a];if(a){var d,f;for(d=0;d<a.length;d++)f=a[d].apply(b,e)||f;return f}}function Ta(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==ma)return arguments[a]}function mc(a,b){function e(j,q){if(q){hb(j,q);j.setDate(1)}j=L(j,true);j.setDate(1);q=hb(L(j),1);var z=L(j),S=L(q),P=f("firstDay"),p=f("weekends")?0:1;if(p){Fa(z);Fa(S,-1,true)}ca(z,-((z.getDay()-Math.max(P,p)+7)%7));ca(S,(7-S.getDay()+Math.max(P,p))%7);P=Math.round((S-z)/(Ab*7));if(f("weekMode")=="fixed"){ca(S,(6-P)*7);P=6}d.title=l(j,
f("titleFormat"));d.start=j;d.end=q;d.visStart=z;d.visEnd=S;g(6,P,p?5:7,true)}var d=this;d.render=e;sb.call(d,a,b,"month");var f=d.opt,g=d.renderBasic,l=b.formatDate}function nc(a,b){function e(j,q){q&&ca(j,q*7);j=ca(L(j),-((j.getDay()-f("firstDay")+7)%7));q=ca(L(j),7);var z=L(j),S=L(q),P=f("weekends");if(!P){Fa(z);Fa(S,-1,true)}d.title=l(z,ca(L(S),-1),f("titleFormat"));d.start=j;d.end=q;d.visStart=z;d.visEnd=S;g(1,1,P?7:5,false)}var d=this;d.render=e;sb.call(d,a,b,"basicWeek");var f=d.opt,g=d.renderBasic,
l=b.formatDates}function oc(a,b){function e(j,q){if(q){ca(j,q);f("weekends")||Fa(j,q<0?-1:1)}d.title=l(j,f("titleFormat"));d.start=d.visStart=L(j,true);d.end=d.visEnd=ca(L(d.start),1);g(1,1,1,false)}var d=this;d.render=e;sb.call(d,a,b,"basicDay");var f=d.opt,g=d.renderBasic,l=b.formatDate}function sb(a,b,e){function d(w,H,R,W){t=H;Q=R;f();(H=!D)?g(w,W):B();l(H)}function f(){if(Y=K("isRTL")){m=-1;E=Q-1}else{m=1;E=0}Z=K("firstDay");ja=K("weekends")?0:1;ka=K("theme")?"ui":"fc";aa=K("columnFormat")}function g(w,
H){var R,W=ka+"-widget-header",fa=ka+"-widget-content",ba;R="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(ba=0;ba<Q;ba++)R+="<th class='fc- "+W+"'/>";R+="</tr></thead><tbody>";for(ba=0;ba<w;ba++){R+="<tr class='fc-week"+ba+"'>";for(W=0;W<Q;W++)R+="<td class='fc- "+fa+" fc-day"+(ba*Q+W)+"'><div>"+(H?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";R+="</tr>"}R+="</tbody></table>";w=
k(R).appendTo(a);J=w.find("thead");i=J.find("th");D=w.find("tbody");I=D.find("tr");O=D.find("td");u=O.filter(":first-child");V=I.eq(0).find("div.fc-day-content div");ab(J.add(J.find("tr")));ab(I);I.eq(0).addClass("fc-first");z(O);x=k("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function l(w){var H=w||t==1,R=o.start.getMonth(),W=Ka(new Date),fa,ba,wa;H&&i.each(function(xa,Ga){fa=k(Ga);ba=da(xa);fa.html($(ba,aa));rb(fa,ba)});O.each(function(xa,Ga){fa=k(Ga);ba=da(xa);ba.getMonth()==
R?fa.removeClass("fc-other-month"):fa.addClass("fc-other-month");+ba==+W?fa.addClass(ka+"-state-highlight fc-today"):fa.removeClass(ka+"-state-highlight fc-today");fa.find("div.fc-day-number").text(ba.getDate());H&&rb(fa,ba)});I.each(function(xa,Ga){wa=k(Ga);if(xa<t){wa.show();xa==t-1?wa.addClass("fc-last"):wa.removeClass("fc-last")}else wa.hide()})}function j(w){n=w;w=n-J.height();var H,R,W;if(K("weekMode")=="variable")H=R=Math.floor(w/(t==1?2:6));else{H=Math.floor(w/t);R=w-H*(t-1)}u.each(function(fa,
ba){if(fa<t){W=k(ba);Za(W.find("> div"),(fa==t-1?R:H)-Sa(W))}})}function q(w){X=w;M.clear();r=Math.floor(X/Q);Va(i.slice(0,-1),r)}function z(w){w.click(S).mousedown(ua)}function S(w){if(!K("selectable")){var H=parseInt(this.className.match(/fc\-day(\d+)/)[1]);H=da(H);c("dayClick",this,H,true,w)}}function P(w,H,R){R&&s.build();R=L(o.visStart);for(var W=ca(L(R),Q),fa=0;fa<t;fa++){var ba=new Date(Math.max(R,w)),wa=new Date(Math.min(W,H));if(ba<wa){var xa;if(Y){xa=Ca(wa,R)*m+E+1;ba=Ca(ba,R)*m+E+1}else{xa=
Ca(ba,R);ba=Ca(wa,R)}z(p(fa,xa,fa,ba-1))}ca(R,7);ca(W,7)}}function p(w,H,R,W){w=s.rect(w,H,R,W,a);return G(w,a)}function v(w){return L(w)}function ga(w,H){P(w,ca(L(H),1),true)}function na(){T()}function ha(w,H,R){var W=va(w);c("dayClick",O[W.row*Q+W.col],w,H,R)}function qa(w,H){A.start(function(R){T();R&&p(R.row,R.col,R.row,R.col)},H)}function ra(w,H,R){var W=A.stop();T();if(W){W=sa(W);c("drop",w,W,true,H,R)}}function ia(w){return L(w.start)}function ea(w){return M.left(w)}function oa(w){return M.right(w)}
function va(w){return{row:Math.floor(Ca(w,o.visStart)/7),col:la(w.getDay())}}function sa(w){return U(w.row,w.col)}function U(w,H){return ca(L(o.visStart),w*7+H*m+E)}function da(w){return U(Math.floor(w/Q),w%Q)}function la(w){return(w-Math.max(Z,ja)+Q)%Q*m+E}function pa(w){return I.eq(w)}function F(){return{left:0,right:X}}var o=this;o.renderBasic=d;o.setHeight=j;o.setWidth=q;o.renderDayOverlay=P;o.defaultSelectionEnd=v;o.renderSelection=ga;o.clearSelection=na;o.reportDayClick=ha;o.dragStart=qa;o.dragStop=
ra;o.defaultEventEnd=ia;o.getHoverListener=function(){return A};o.colContentLeft=ea;o.colContentRight=oa;o.dayOfWeekCol=la;o.dateCell=va;o.cellDate=sa;o.cellIsAllDay=function(){return true};o.allDayRow=pa;o.allDayBounds=F;o.getRowCnt=function(){return t};o.getColCnt=function(){return Q};o.getColWidth=function(){return r};o.getDaySegmentContainer=function(){return x};Kb.call(o,a,b,e);Lb.call(o);Mb.call(o);pc.call(o);var K=o.opt,c=o.trigger,B=o.clearEvents,G=o.renderOverlay,T=o.clearOverlays,ua=o.daySelectionMousedown,
$=b.formatDate,J,i,D,I,O,u,V,x,X,n,r,t,Q,s,A,M,Y,m,E,Z,ja,ka,aa;qb(a.addClass("fc-grid"));s=new Nb(function(w,H){var R,W,fa;i.each(function(ba,wa){R=k(wa);W=R.offset().left;if(ba)fa[1]=W;fa=[W];H[ba]=fa});fa[1]=W+R.outerWidth();I.each(function(ba,wa){if(ba<t){R=k(wa);W=R.offset().top;if(ba)fa[1]=W;fa=[W];w[ba]=fa}});fa[1]=W+R.outerHeight()});A=new Ob(s);M=new Pb(function(w){return V.eq(w)})}function pc(){function a(U,da){S(U);va(e(U),da)}function b(){P();ha().empty()}function e(U){var da=ea(),la=
oa(),pa=L(g.visStart);la=ca(L(pa),la);var F=k.map(U,Ua),o,K,c,B,G,T,ua=[];for(o=0;o<da;o++){K=ob(nb(U,F,pa,la));for(c=0;c<K.length;c++){B=K[c];for(G=0;G<B.length;G++){T=B[G];T.row=o;T.level=c;ua.push(T)}}ca(pa,7);ca(la,7)}return ua}function d(U,da,la){q(U)&&f(U,da);la.isEnd&&z(U)&&sa(U,da,la);p(U,da)}function f(U,da){var la=qa(),pa;da.draggable({zIndex:9,delay:50,opacity:l("dragOpacity"),revertDuration:l("dragRevertDuration"),start:function(F,o){j("eventDragStart",da,U,F,o);ga(U,da);la.start(function(K,
c,B,G){da.draggable("option","revert",!K||!B&&!G);ia();if(K){pa=B*7+G*(l("isRTL")?-1:1);ra(ca(L(U.start),pa),ca(Ua(U),pa))}else pa=0},F,"drag")},stop:function(F,o){la.stop();ia();j("eventDragStop",da,U,F,o);if(pa)na(this,U,pa,0,U.allDay,F,o);else{da.css("filter","");v(U,da)}}})}var g=this;g.renderEvents=a;g.compileDaySegs=e;g.clearEvents=b;g.bindDaySeg=d;Qb.call(g);var l=g.opt,j=g.trigger,q=g.isEventDraggable,z=g.isEventResizable,S=g.reportEvents,P=g.reportEventClear,p=g.eventElementHandlers,v=g.showEvents,
ga=g.hideEvents,na=g.eventDrop,ha=g.getDaySegmentContainer,qa=g.getHoverListener,ra=g.renderDayOverlay,ia=g.clearOverlays,ea=g.getRowCnt,oa=g.getColCnt,va=g.renderDaySegs,sa=g.resizableDayEvent}function qc(a,b){function e(j,q){q&&ca(j,q*7);j=ca(L(j),-((j.getDay()-f("firstDay")+7)%7));q=ca(L(j),7);var z=L(j),S=L(q),P=f("weekends");if(!P){Fa(z);Fa(S,-1,true)}d.title=l(z,ca(L(S),-1),f("titleFormat"));d.start=j;d.end=q;d.visStart=z;d.visEnd=S;g(P?7:5)}var d=this;d.render=e;Rb.call(d,a,b,"agendaWeek");
var f=d.opt,g=d.renderAgenda,l=b.formatDates}function rc(a,b){function e(j,q){if(q){ca(j,q);f("weekends")||Fa(j,q<0?-1:1)}q=L(j,true);var z=ca(L(q),1);d.title=l(j,f("titleFormat"));d.start=d.visStart=q;d.end=d.visEnd=z;g(1)}var d=this;d.render=e;Rb.call(d,a,b,"agendaDay");var f=d.opt,g=d.renderAgenda,l=b.formatDate}function Rb(a,b,e){function d(h){Ba=h;f();t?I():g();l()}function f(){Wa=i("theme")?"ui":"fc";Sb=i("weekends")?0:1;Tb=i("firstDay");if(Ub=i("isRTL")){Ha=-1;Ia=Ba-1}else{Ha=1;Ia=0}La=mb(i("minTime"));
bb=mb(i("maxTime"));Vb=i("columnFormat")}function g(){var h=Wa+"-widget-header",N=Wa+"-widget-content",y,C,ta,za,Da,Ea=i("slotMinutes")%15==0;y="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(C=0;C<Ba;C++)y+="<th class='fc- fc-col"+C+" "+h+"'/>";y+="<th class='fc-agenda-gutter "+h+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(C=0;C<Ba;C++)y+="<td class='fc- fc-col"+
C+" "+N+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";y+="<td class='fc-agenda-gutter "+N+"'>&nbsp;</td></tr></tbody></table>";t=k(y).appendTo(a);Q=t.find("thead");s=Q.find("th").slice(1,-1);A=t.find("tbody");M=A.find("td").slice(0,-1);Y=M.find("div.fc-day-content div");m=M.eq(0);E=m.find("> div");ab(Q.add(Q.find("tr")));ab(A.add(A.find("tr")));ba=Q.find("th:first");wa=t.find(".fc-agenda-gutter");Z=k("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);
if(i("allDaySlot")){ja=k("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Z);y="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+i("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+h+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ka=k(y).appendTo(Z);aa=ka.find("tr");p(aa.find("td"));ba=ba.add(ka.find("th:first"));wa=wa.add(ka.find("th.fc-agenda-gutter"));Z.append("<div class='fc-agenda-divider "+
h+"'><div class='fc-agenda-divider-inner'/></div>")}else ja=k([]);w=k("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(Z);H=k("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(w);R=k("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(H);y="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";ta=zb();za=ya(L(ta),bb);ya(ta,La);for(C=tb=0;ta<za;C++){Da=ta.getMinutes();y+="<tr class='fc-slot"+C+" "+(!Da?
"":"fc-minor")+"'><th class='fc-agenda-axis "+h+"'>"+(!Ea||!Da?r(ta,i("axisFormat")):"&nbsp;")+"</th><td class='"+N+"'><div style='position:relative'>&nbsp;</div></td></tr>";ya(ta,i("slotMinutes"));tb++}y+="</tbody></table>";W=k(y).appendTo(H);fa=W.find("div:first");v(W.find("td"));ba=ba.add(W.find("th:first"))}function l(){var h,N,y,C,ta=Ka(new Date);for(h=0;h<Ba;h++){C=va(h);N=s.eq(h);N.html(r(C,Vb));y=M.eq(h);+C==+ta?y.addClass(Wa+"-state-highlight fc-today"):y.removeClass(Wa+"-state-highlight fc-today");
rb(N.add(y),C)}}function j(h,N){if(h===ma)h=Wb;Wb=h;ub={};var y=A.position().top,C=w.position().top;h=Math.min(h-y,W.height()+C+1);E.height(h-Sa(m));Z.css("top",y);w.height(h-C-1);Xa=fa.height()+1;N&&z()}function q(h){Ga=h;cb.clear();Ma=0;Va(ba.width("").each(function(N,y){Ma=Math.max(Ma,k(y).outerWidth())}),Ma);h=w[0].clientWidth;if(vb=w.width()-h){Va(wa,vb);wa.show().prev().removeClass("fc-last")}else wa.hide().prev().addClass("fc-last");db=Math.floor((h-Ma)/Ba);Va(s.slice(0,-1),db)}function z(){function h(){w.scrollTop(C)}
var N=zb(),y=L(N);y.setHours(i("firstHour"));var C=da(N,y)+1;h();setTimeout(h,0)}function S(){Xb=w.scrollTop()}function P(){w.scrollTop(Xb)}function p(h){h.click(ga).mousedown(X)}function v(h){h.click(ga).mousedown(G)}function ga(h){if(!i("selectable")){var N=Math.min(Ba-1,Math.floor((h.pageX-t.offset().left-Ma)/db)),y=va(N),C=this.parentNode.className.match(/fc-slot(\d+)/);if(C){C=parseInt(C[1])*i("slotMinutes");var ta=Math.floor(C/60);y.setHours(ta);y.setMinutes(C%60+La);D("dayClick",M[N],y,false,
h)}else D("dayClick",M[N],y,true,h)}}function na(h,N,y){y&&Na.build();var C=L(J.visStart);if(Ub){y=Ca(N,C)*Ha+Ia+1;h=Ca(h,C)*Ha+Ia+1}else{y=Ca(h,C);h=Ca(N,C)}y=Math.max(0,y);h=Math.min(Ba,h);y<h&&p(ha(0,y,0,h-1))}function ha(h,N,y,C){h=Na.rect(h,N,y,C,Z);return O(h,Z)}function qa(h,N){for(var y=L(J.visStart),C=ca(L(y),1),ta=0;ta<Ba;ta++){var za=new Date(Math.max(y,h)),Da=new Date(Math.min(C,N));if(za<Da){var Ea=ta*Ha+Ia;Ea=Na.rect(0,Ea,0,Ea,H);za=da(y,za);Da=da(y,Da);Ea.top=za;Ea.height=Da-za;v(O(Ea,
H))}ca(y,1);ca(C,1)}}function ra(h){return cb.left(h)}function ia(h){return cb.right(h)}function ea(h){return{row:Math.floor(Ca(h,J.visStart)/7),col:U(h.getDay())}}function oa(h){var N=va(h.col);h=h.row;i("allDaySlot")&&h--;h>=0&&ya(N,La+h*i("slotMinutes"));return N}function va(h){return ca(L(J.visStart),h*Ha+Ia)}function sa(h){return i("allDaySlot")&&!h.row}function U(h){return(h-Math.max(Tb,Sb)+Ba)%Ba*Ha+Ia}function da(h,N){h=L(h,true);if(N<ya(L(h),La))return 0;if(N>=ya(L(h),bb))return W.height();
h=i("slotMinutes");N=N.getHours()*60+N.getMinutes()-La;var y=Math.floor(N/h),C=ub[y];if(C===ma)C=ub[y]=W.find("tr:eq("+y+") td div")[0].offsetTop;return Math.max(0,Math.round(C-1+Xa*(N%h/h)))}function la(){return{left:Ma,right:Ga-vb}}function pa(){return aa}function F(h){var N=L(h.start);if(h.allDay)return N;return ya(N,i("defaultEventMinutes"))}function o(h,N){if(N)return L(h);return ya(L(h),i("slotMinutes"))}function K(h,N,y){if(y)i("allDaySlot")&&na(h,ca(L(N),1),true);else c(h,N)}function c(h,
N){var y=i("selectHelper");Na.build();if(y){var C=Ca(h,J.visStart)*Ha+Ia;if(C>=0&&C<Ba){C=Na.rect(0,C,0,C,H);var ta=da(h,h),za=da(h,N);if(za>ta){C.top=ta;C.height=za-ta;C.left+=2;C.width-=5;if(k.isFunction(y)){if(h=y(h,N)){C.position="absolute";C.zIndex=8;xa=k(h).css(C).appendTo(H)}}else{C.isStart=true;C.isEnd=true;xa=k(n({title:"",start:h,end:N,className:["fc-select-helper"],editable:false},C));xa.css("opacity",i("dragOpacity"))}if(xa){v(xa);H.append(xa);Va(xa,C.width,true);Eb(xa,C.height,true)}}}}else qa(h,
N)}function B(){u();if(xa){xa.remove();xa=null}}function G(h){if(h.which==1&&i("selectable")){x(h);var N;Ra.start(function(y,C){B();if(y&&y.col==C.col&&!sa(y)){C=oa(C);y=oa(y);N=[C,ya(L(C),i("slotMinutes")),y,ya(L(y),i("slotMinutes"))].sort(Gb);c(N[0],N[3])}else N=null},h);k(document).one("mouseup",function(y){Ra.stop();if(N){+N[0]==+N[1]&&T(N[0],false,y);V(N[0],N[3],false,y)}})}}function T(h,N,y){D("dayClick",M[U(h.getDay())],h,N,y)}function ua(h,N){Ra.start(function(y){u();if(y)if(sa(y))ha(y.row,
y.col,y.row,y.col);else{y=oa(y);var C=ya(L(y),i("defaultEventMinutes"));qa(y,C)}},N)}function $(h,N,y){var C=Ra.stop();u();C&&D("drop",h,oa(C),sa(C),N,y)}var J=this;J.renderAgenda=d;J.setWidth=q;J.setHeight=j;J.beforeHide=S;J.afterShow=P;J.defaultEventEnd=F;J.timePosition=da;J.dayOfWeekCol=U;J.dateCell=ea;J.cellDate=oa;J.cellIsAllDay=sa;J.allDayRow=pa;J.allDayBounds=la;J.getHoverListener=function(){return Ra};J.colContentLeft=ra;J.colContentRight=ia;J.getDaySegmentContainer=function(){return ja};
J.getSlotSegmentContainer=function(){return R};J.getMinMinute=function(){return La};J.getMaxMinute=function(){return bb};J.getBodyContent=function(){return H};J.getRowCnt=function(){return 1};J.getColCnt=function(){return Ba};J.getColWidth=function(){return db};J.getSlotHeight=function(){return Xa};J.defaultSelectionEnd=o;J.renderDayOverlay=na;J.renderSelection=K;J.clearSelection=B;J.reportDayClick=T;J.dragStart=ua;J.dragStop=$;Kb.call(J,a,b,e);Lb.call(J);Mb.call(J);sc.call(J);var i=J.opt,D=J.trigger,
I=J.clearEvents,O=J.renderOverlay,u=J.clearOverlays,V=J.reportSelection,x=J.unselect,X=J.daySelectionMousedown,n=J.slotSegHtml,r=b.formatDate,t,Q,s,A,M,Y,m,E,Z,ja,ka,aa,w,H,R,W,fa,ba,wa,xa,Ga,Wb,Ma,db,vb,Xa,Xb,Ba,tb,Na,Ra,cb,ub={},Wa,Tb,Sb,Ub,Ha,Ia,La,bb,Vb;qb(a.addClass("fc-agenda"));Na=new Nb(function(h,N){function y(eb){return Math.max(Ea,Math.min(tc,eb))}var C,ta,za;s.each(function(eb,uc){C=k(uc);ta=C.offset().left;if(eb)za[1]=ta;za=[ta];N[eb]=za});za[1]=ta+C.outerWidth();if(i("allDaySlot")){C=
aa;ta=C.offset().top;h[0]=[ta,ta+C.outerHeight()]}for(var Da=H.offset().top,Ea=w.offset().top,tc=Ea+w.outerHeight(),fb=0;fb<tb;fb++)h.push([y(Da+Xa*fb),y(Da+Xa*(fb+1))])});Ra=new Ob(Na);cb=new Pb(function(h){return Y.eq(h)})}function sc(){function a(n,r){ra(n);var t,Q=n.length,s=[],A=[];for(t=0;t<Q;t++)n[t].allDay?s.push(n[t]):A.push(n[t]);if(v("allDaySlot")){K(e(s),r);oa()}g(d(A),r)}function b(){ia();va().empty();sa().empty()}function e(n){n=ob(nb(n,k.map(n,Ua),p.visStart,p.visEnd));var r,t=n.length,
Q,s,A,M=[];for(r=0;r<t;r++){Q=n[r];for(s=0;s<Q.length;s++){A=Q[s];A.row=0;A.level=r;M.push(A)}}return M}function d(n){var r=B(),t=la(),Q=da(),s=ya(L(p.visStart),t),A=k.map(n,f),M,Y,m,E,Z,ja,ka=[];for(M=0;M<r;M++){Y=ob(nb(n,A,s,ya(L(s),Q-t)));vc(Y);for(m=0;m<Y.length;m++){E=Y[m];for(Z=0;Z<E.length;Z++){ja=E[Z];ja.col=M;ja.level=m;ka.push(ja)}}ca(s,1,true)}return ka}function f(n){return n.end?L(n.end):ya(L(n.start),v("defaultEventMinutes"))}function g(n,r){var t,Q=n.length,s,A,M,Y,m,E,Z,ja,ka,aa="",
w,H,R={},W={},fa=sa(),ba;t=B();if(w=v("isRTL")){H=-1;ba=t-1}else{H=1;ba=0}for(t=0;t<Q;t++){s=n[t];A=s.event;M=pa(s.start,s.start);Y=pa(s.start,s.end);m=s.col;E=s.level;Z=s.forward||0;ja=F(m*H+ba);ka=o(m*H+ba)-ja;ka=Math.min(ka-6,ka*0.95);m=E?ka/(E+Z+1):Z?(ka/(Z+1)-6)*2:ka;E=ja+ka/(E+Z+1)*E*H+(w?ka-m:0);s.top=M;s.left=E;s.outerWidth=m;s.outerHeight=Y-M;aa+=l(A,s)}fa[0].innerHTML=aa;w=fa.children();for(t=0;t<Q;t++){s=n[t];A=s.event;aa=k(w[t]);H=ga("eventRender",A,A,aa);if(H===false)aa.remove();else{if(H&&
H!==true){aa.remove();aa=k(H).css({position:"absolute",top:s.top,left:s.left}).appendTo(fa)}s.element=aa;if(A._id===r)q(A,aa,s);else aa[0]._fci=t;$(A,aa)}}Db(fa,n,q);for(t=0;t<Q;t++){s=n[t];if(aa=s.element){A=R[r=s.key=Ib(aa[0])];s.vsides=A===ma?(R[r]=Sa(aa,true)):A;A=W[r];s.hsides=A===ma?(W[r]=pb(aa,true)):A;r=aa.find("div.fc-event-content");if(r.length)s.contentTop=r[0].offsetTop}}for(t=0;t<Q;t++){s=n[t];if(aa=s.element){aa[0].style.width=Math.max(0,s.outerWidth-s.hsides)+"px";R=Math.max(0,s.outerHeight-
s.vsides);aa[0].style.height=R+"px";A=s.event;if(s.contentTop!==ma&&R-s.contentTop<10){aa.find("div.fc-event-time").text(x(A.start,v("timeFormat"))+" - "+A.title);aa.find("div.fc-event-title").remove()}ga("eventAfterRender",A,A,aa)}}}function l(n,r){var t="<",Q=n.url,s=Jb(n,v),A=s?" style='"+s+"'":"",M=["fc-event","fc-event-skin","fc-event-vert"];na(n)&&M.push("fc-event-draggable");r.isStart&&M.push("fc-corner-top");r.isEnd&&M.push("fc-corner-bottom");M=M.concat(n.className);if(n.source)M=M.concat(n.source.className||
[]);t+=Q?"a href='"+Qa(n.url)+"'":"div";t+=" class='"+M.join(" ")+"' style='position:absolute;z-index:8;top:"+r.top+"px;left:"+r.left+"px;"+s+"'><div class='fc-event-inner fc-event-skin'"+A+"><div class='fc-event-head fc-event-skin'"+A+"><div class='fc-event-time'>"+Qa(X(n.start,n.end,v("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Qa(n.title)+"</div></div><div class='fc-event-bg'></div></div>";if(r.isEnd&&ha(n))t+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";
t+="</"+(Q?"a":"div")+">";return t}function j(n,r,t){na(n)&&z(n,r,t.isStart);t.isEnd&&ha(n)&&c(n,r,t);ea(n,r)}function q(n,r,t){var Q=r.find("div.fc-event-time");na(n)&&S(n,r,Q);t.isEnd&&ha(n)&&P(n,r,Q);ea(n,r)}function z(n,r,t){function Q(){if(!M){r.width(s).height("").draggable("option","grid",null);M=true}}var s,A,M=true,Y,m=v("isRTL")?-1:1,E=U(),Z=G(),ja=T(),ka=la();r.draggable({zIndex:9,opacity:v("dragOpacity","month"),revertDuration:v("dragRevertDuration"),start:function(aa,w){ga("eventDragStart",
r,n,aa,w);i(n,r);s=r.width();E.start(function(H,R,W,fa){u();if(H){A=false;Y=fa*m;if(H.row)if(t){if(M){r.width(Z-10);Eb(r,ja*Math.round((n.end?(n.end-n.start)/wc:v("defaultEventMinutes"))/v("slotMinutes")));r.draggable("option","grid",[Z,1]);M=false}}else A=true;else{O(ca(L(n.start),Y),ca(Ua(n),Y));Q()}A=A||M&&!Y}else{Q();A=true}r.draggable("option","revert",A)},aa,"drag")},stop:function(aa,w){E.stop();u();ga("eventDragStop",r,n,aa,w);if(A){Q();r.css("filter","");J(n,r)}else{var H=0;M||(H=Math.round((r.offset().top-
ua().offset().top)/ja)*v("slotMinutes")+ka-(n.start.getHours()*60+n.start.getMinutes()));D(this,n,Y,H,M,aa,w)}}})}function S(n,r,t){function Q(H){var R=ya(L(n.start),H),W;if(n.end)W=ya(L(n.end),H);t.text(X(R,W,v("timeFormat")))}function s(){if(M){t.css("display","");r.draggable("option","grid",[aa,w]);M=false}}var A,M=false,Y,m,E,Z=v("isRTL")?-1:1,ja=U(),ka=B(),aa=G(),w=T();r.draggable({zIndex:9,scroll:false,grid:[aa,w],axis:ka==1?"y":false,opacity:v("dragOpacity"),revertDuration:v("dragRevertDuration"),
start:function(H,R){ga("eventDragStart",r,n,H,R);i(n,r);A=r.position();m=E=0;ja.start(function(W,fa,ba,wa){r.draggable("option","revert",!W);u();if(W){Y=wa*Z;if(v("allDaySlot")&&!W.row){if(!M){M=true;t.hide();r.draggable("option","grid",null)}O(ca(L(n.start),Y),ca(Ua(n),Y))}else s()}},H,"drag")},drag:function(H,R){m=Math.round((R.position.top-A.top)/w)*v("slotMinutes");if(m!=E){M||Q(m);E=m}},stop:function(H,R){var W=ja.stop();u();ga("eventDragStop",r,n,H,R);if(W&&(Y||m||M))D(this,n,Y,M?0:m,M,H,R);
else{s();r.css("filter","");r.css(A);Q(0);J(n,r)}}})}function P(n,r,t){var Q,s,A=T();r.resizable({handles:{s:"div.ui-resizable-s"},grid:A,start:function(M,Y){Q=s=0;i(n,r);r.css("z-index",9);ga("eventResizeStart",this,n,M,Y)},resize:function(M,Y){Q=Math.round((Math.max(A,r.height())-Y.originalSize.height)/A);if(Q!=s){t.text(X(n.start,!Q&&!n.end?null:ya(qa(n),v("slotMinutes")*Q),v("timeFormat")));s=Q}},stop:function(M,Y){ga("eventResizeStop",this,n,M,Y);if(Q)I(this,n,0,v("slotMinutes")*Q,M,Y);else{r.css("z-index",
8);J(n,r)}}})}var p=this;p.renderEvents=a;p.compileDaySegs=e;p.clearEvents=b;p.slotSegHtml=l;p.bindDaySeg=j;Qb.call(p);var v=p.opt,ga=p.trigger,na=p.isEventDraggable,ha=p.isEventResizable,qa=p.eventEnd,ra=p.reportEvents,ia=p.reportEventClear,ea=p.eventElementHandlers,oa=p.setHeight,va=p.getDaySegmentContainer,sa=p.getSlotSegmentContainer,U=p.getHoverListener,da=p.getMaxMinute,la=p.getMinMinute,pa=p.timePosition,F=p.colContentLeft,o=p.colContentRight,K=p.renderDaySegs,c=p.resizableDayEvent,B=p.getColCnt,
G=p.getColWidth,T=p.getSlotHeight,ua=p.getBodyContent,$=p.reportEventElement,J=p.showEvents,i=p.hideEvents,D=p.eventDrop,I=p.eventResize,O=p.renderDayOverlay,u=p.clearOverlays,V=p.calendar,x=V.formatDate,X=V.formatDates}function vc(a){var b,e,d,f,g,l;for(b=a.length-1;b>0;b--){f=a[b];for(e=0;e<f.length;e++){g=f[e];for(d=0;d<a[b-1].length;d++){l=a[b-1][d];if(Cb(g,l))l.forward=Math.max(l.forward||0,(g.forward||0)+1)}}}}function Kb(a,b,e){function d(F,o){F=pa[F];if(typeof F=="object")return jb(F,o||e);
return F}function f(F,o){return b.trigger.apply(b,[F,o||ea].concat(Array.prototype.slice.call(arguments,2),[ea]))}function g(F){return j(F)&&!d("disableDragging")}function l(F){return j(F)&&!d("disableResizing")}function j(F){return Ta(F.editable,(F.source||{}).editable,d("editable"))}function q(F){U={};var o,K=F.length,c;for(o=0;o<K;o++){c=F[o];if(U[c._id])U[c._id].push(c);else U[c._id]=[c]}}function z(F){return F.end?L(F.end):oa(F)}function S(F,o){da.push(o);if(la[F._id])la[F._id].push(o);else la[F._id]=
[o]}function P(){da=[];la={}}function p(F,o){o.click(function(K){if(!o.hasClass("ui-draggable-dragging")&&!o.hasClass("ui-resizable-resizing"))return f("eventClick",this,F,K)}).hover(function(K){f("eventMouseover",this,F,K)},function(K){f("eventMouseout",this,F,K)})}function v(F,o){na(F,o,"show")}function ga(F,o){na(F,o,"hide")}function na(F,o,K){F=la[F._id];var c,B=F.length;for(c=0;c<B;c++)if(!o||F[c][0]!=o[0])F[c][K]()}function ha(F,o,K,c,B,G,T){var ua=o.allDay,$=o._id;ra(U[$],K,c,B);f("eventDrop",
F,o,K,c,B,function(){ra(U[$],-K,-c,ua);sa($)},G,T);sa($)}function qa(F,o,K,c,B,G){var T=o._id;ia(U[T],K,c);f("eventResize",F,o,K,c,function(){ia(U[T],-K,-c);sa(T)},B,G);sa(T)}function ra(F,o,K,c){K=K||0;for(var B,G=F.length,T=0;T<G;T++){B=F[T];if(c!==ma)B.allDay=c;ya(ca(B.start,o,true),K);if(B.end)B.end=ya(ca(B.end,o,true),K);va(B,pa)}}function ia(F,o,K){K=K||0;for(var c,B=F.length,G=0;G<B;G++){c=F[G];c.end=ya(ca(z(c),o,true),K);va(c,pa)}}var ea=this;ea.element=a;ea.calendar=b;ea.name=e;ea.opt=d;
ea.trigger=f;ea.isEventDraggable=g;ea.isEventResizable=l;ea.reportEvents=q;ea.eventEnd=z;ea.reportEventElement=S;ea.reportEventClear=P;ea.eventElementHandlers=p;ea.showEvents=v;ea.hideEvents=ga;ea.eventDrop=ha;ea.eventResize=qa;var oa=ea.defaultEventEnd,va=b.normalizeEvent,sa=b.reportEventChange,U={},da=[],la={},pa=b.options}function Qb(){function a(i,D){var I=B(),O=sa(),u=U(),V=0,x,X,n=i.length,r,t;I[0].innerHTML=e(i);d(i,I.children());f(i);g(i,I,D);l(i);j(i);q(i);D=z();for(I=0;I<O;I++){x=[];for(X=
0;X<u;X++)x[X]=0;for(;V<n&&(r=i[V]).row==I;){X=Hb(x.slice(r.startCol,r.endCol));r.top=X;X+=r.outerHeight;for(t=r.startCol;t<r.endCol;t++)x[t]=X;V++}D[I].height(Hb(x))}P(i,S(D))}function b(i,D,I){var O=k("<div/>"),u=B(),V=i.length,x;O[0].innerHTML=e(i);O=O.children();u.append(O);d(i,O);l(i);j(i);q(i);P(i,S(z()));O=[];for(u=0;u<V;u++)if(x=i[u].element){i[u].row===D&&x.css("top",I);O.push(x[0])}return k(O)}function e(i){var D=ga("isRTL"),I,O=i.length,u,V,x,X;I=la();var n=I.left,r=I.right,t,Q,s,A,M,Y=
"";for(I=0;I<O;I++){u=i[I];V=u.event;X=["fc-event","fc-event-skin","fc-event-hori"];ha(V)&&X.push("fc-event-draggable");if(D){u.isStart&&X.push("fc-corner-right");u.isEnd&&X.push("fc-corner-left");t=o(u.end.getDay()-1);Q=o(u.start.getDay());s=u.isEnd?pa(t):n;A=u.isStart?F(Q):r}else{u.isStart&&X.push("fc-corner-left");u.isEnd&&X.push("fc-corner-right");t=o(u.start.getDay());Q=o(u.end.getDay()-1);s=u.isStart?pa(t):n;A=u.isEnd?F(Q):r}X=X.concat(V.className);if(V.source)X=X.concat(V.source.className||
[]);x=V.url;M=Jb(V,ga);Y+=x?"<a href='"+Qa(x)+"'":"<div";Y+=" class='"+X.join(" ")+"' style='position:absolute;z-index:8;left:"+s+"px;"+M+"'><div class='fc-event-inner fc-event-skin'"+(M?" style='"+M+"'":"")+">";if(!V.allDay&&u.isStart)Y+="<span class='fc-event-time'>"+Qa(T(V.start,V.end,ga("timeFormat")))+"</span>";Y+="<span class='fc-event-title'>"+Qa(V.title)+"</span></div>";if(u.isEnd&&qa(V))Y+="<div class='ui-resizable-handle ui-resizable-"+(D?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";Y+="</"+(x?
"a":"div")+">";u.left=s;u.outerWidth=A-s;u.startCol=t;u.endCol=Q+1}return Y}function d(i,D){var I,O=i.length,u,V,x;for(I=0;I<O;I++){u=i[I];V=u.event;x=k(D[I]);V=na("eventRender",V,V,x);if(V===false)x.remove();else{if(V&&V!==true){V=k(V).css({position:"absolute",left:u.left});x.replaceWith(V);x=V}u.element=x}}}function f(i){var D,I=i.length,O,u;for(D=0;D<I;D++){O=i[D];(u=O.element)&&ia(O.event,u)}}function g(i,D,I){var O,u=i.length,V,x,X;for(O=0;O<u;O++){V=i[O];if(x=V.element){X=V.event;if(X._id===
I)G(X,x,V);else x[0]._fci=O}}Db(D,i,G)}function l(i){var D,I=i.length,O,u,V,x,X={};for(D=0;D<I;D++){O=i[D];if(u=O.element){V=O.key=Ib(u[0]);x=X[V];if(x===ma)x=X[V]=pb(u,true);O.hsides=x}}}function j(i){var D,I=i.length,O,u;for(D=0;D<I;D++){O=i[D];if(u=O.element)u[0].style.width=Math.max(0,O.outerWidth-O.hsides)+"px"}}function q(i){var D,I=i.length,O,u,V,x,X={};for(D=0;D<I;D++){O=i[D];if(u=O.element){V=O.key;x=X[V];if(x===ma)x=X[V]=Fb(u);O.outerHeight=u[0].offsetHeight+x}}}function z(){var i,D=sa(),
I=[];for(i=0;i<D;i++)I[i]=da(i).find("td:first div.fc-day-content > div");return I}function S(i){var D,I=i.length,O=[];for(D=0;D<I;D++)O[D]=i[D][0].offsetTop;return O}function P(i,D){var I,O=i.length,u,V;for(I=0;I<O;I++){u=i[I];if(V=u.element){V[0].style.top=D[u.row]+(u.top||0)+"px";u=u.event;na("eventAfterRender",u,u,V)}}}function p(i,D,I){var O=ga("isRTL"),u=O?"w":"e",V=D.find("div.ui-resizable-"+u),x=false;qb(D);D.mousedown(function(X){X.preventDefault()}).click(function(X){if(x){X.preventDefault();
X.stopImmediatePropagation()}});V.mousedown(function(X){function n(ja){na("eventResizeStop",this,i,ja);k("body").css("cursor","");r.stop();$();Y&&va(this,i,Y,0,ja);setTimeout(function(){x=false},0)}if(X.which==1){x=true;var r=v.getHoverListener(),t=sa(),Q=U(),s=O?-1:1,A=O?Q-1:0,M=D.css("top"),Y,m,E=k.extend({},i),Z=K(i.start);J();k("body").css("cursor",u+"-resize").one("mouseup",n);na("eventResizeStart",this,i,X);r.start(function(ja,ka){if(ja){var aa=Math.max(Z.row,ja.row);ja=ja.col;if(t==1)aa=0;
if(aa==Z.row)ja=O?Math.min(Z.col,ja):Math.max(Z.col,ja);Y=aa*7+ja*s+A-(ka.row*7+ka.col*s+A);ka=ca(ra(i),Y,true);if(Y){E.end=ka;aa=m;m=b(c([E]),I.row,M);m.find("*").css("cursor",u+"-resize");aa&&aa.remove();oa(i)}else if(m){ea(i);m.remove();m=null}$();ua(i.start,ca(L(ka),1))}},X)}})}var v=this;v.renderDaySegs=a;v.resizableDayEvent=p;var ga=v.opt,na=v.trigger,ha=v.isEventDraggable,qa=v.isEventResizable,ra=v.eventEnd,ia=v.reportEventElement,ea=v.showEvents,oa=v.hideEvents,va=v.eventResize,sa=v.getRowCnt,
U=v.getColCnt,da=v.allDayRow,la=v.allDayBounds,pa=v.colContentLeft,F=v.colContentRight,o=v.dayOfWeekCol,K=v.dateCell,c=v.compileDaySegs,B=v.getDaySegmentContainer,G=v.bindDaySeg,T=v.calendar.formatDates,ua=v.renderDayOverlay,$=v.clearOverlays,J=v.clearSelection}function Mb(){function a(P,p,v){b();p||(p=j(P,v));q(P,p,v);e(P,p,v)}function b(P){if(S){S=false;z();l("unselect",null,P)}}function e(P,p,v,ga){S=true;l("select",null,P,p,v,ga)}function d(P){var p=f.cellDate,v=f.cellIsAllDay,ga=f.getHoverListener(),
na=f.reportDayClick;if(P.which==1&&g("selectable")){b(P);var ha;ga.start(function(qa,ra){z();if(qa&&v(qa)){ha=[p(ra),p(qa)].sort(Gb);q(ha[0],ha[1],true)}else ha=null},P);k(document).one("mouseup",function(qa){ga.stop();if(ha){+ha[0]==+ha[1]&&na(ha[0],true,qa);e(ha[0],ha[1],true,qa)}})}}var f=this;f.select=a;f.unselect=b;f.reportSelection=e;f.daySelectionMousedown=d;var g=f.opt,l=f.trigger,j=f.defaultSelectionEnd,q=f.renderSelection,z=f.clearSelection,S=false;g("selectable")&&g("unselectAuto")&&k(document).mousedown(function(P){var p=
g("unselectCancel");if(p)if(k(P.target).parents(p).length)return;b(P)})}function Lb(){function a(g,l){var j=f.shift();j||(j=k("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));j[0].parentNode!=l[0]&&j.appendTo(l);d.push(j.css(g).show());return j}function b(){for(var g;g=d.shift();)f.push(g.hide().unbind())}var e=this;e.renderOverlay=a;e.clearOverlays=b;var d=[],f=[]}function Nb(a){var b=this,e,d;b.build=function(){e=[];d=[];a(e,d)};b.cell=function(f,g){var l=e.length,j=d.length,
q,z=-1,S=-1;for(q=0;q<l;q++)if(g>=e[q][0]&&g<e[q][1]){z=q;break}for(q=0;q<j;q++)if(f>=d[q][0]&&f<d[q][1]){S=q;break}return z>=0&&S>=0?{row:z,col:S}:null};b.rect=function(f,g,l,j,q){q=q.offset();return{top:e[f][0]-q.top,left:d[g][0]-q.left,width:d[j][1]-d[g][0],height:e[l][1]-e[f][0]}}}function Ob(a){function b(j){xc(j);j=a.cell(j.pageX,j.pageY);if(!j!=!l||j&&(j.row!=l.row||j.col!=l.col)){if(j){g||(g=j);f(j,g,j.row-g.row,j.col-g.col)}else f(j,g);l=j}}var e=this,d,f,g,l;e.start=function(j,q,z){f=j;
g=l=null;a.build();b(q);d=z||"mousemove";k(document).bind(d,b)};e.stop=function(){k(document).unbind(d,b);return l}}function xc(a){if(a.pageX===ma){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Pb(a){function b(l){return d[l]=d[l]||a(l)}var e=this,d={},f={},g={};e.left=function(l){return f[l]=f[l]===ma?b(l).position().left:f[l]};e.right=function(l){return g[l]=g[l]===ma?e.left(l)+b(l).width():g[l]};e.clear=function(){d={};f={};g={}}}var Ya={defaultView:"month",aspectRatio:1.35,
header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan",
"Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},yc=
{header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=k.fullCalendar={version:"1.5.3"},Ja=Aa.views={};k.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),e;this.each(function(){var f=k.data(this,"fullCalendar");if(f&&k.isFunction(f[a])){f=f[a].apply(f,
b);if(e===ma)e=f;a=="destroy"&&k.removeData(this,"fullCalendar")}});if(e!==ma)return e;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=k.extend(true,{},Ya,a.isRTL||a.isRTL===ma&&Ya.isRTL?yc:{},a);this.each(function(f,g){f=k(g);g=new Yb(f,a,d);f.data("fullCalendar",g);g.render()});return this};Aa.sourceNormalizers=[];Aa.sourceFetchers=[];var ac={dataType:"json",cache:false},bc=1;Aa.addDays=ca;Aa.cloneDate=L;Aa.parseDate=kb;Aa.parseISO8601=
Bb;Aa.parseTime=mb;Aa.formatDate=Oa;Aa.formatDates=ib;var lc=["sun","mon","tue","wed","thu","fri","sat"],Ab=864E5,cc=36E5,wc=6E4,dc={s:function(a){return a.getSeconds()},ss:function(a){return Pa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Pa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Pa(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Pa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Pa(a.getDate())},
ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Pa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<
12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Oa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Aa.applyAll=$a;Ja.month=mc;Ja.basicWeek=nc;Ja.basicDay=oc;wb({weekMode:"fixed"});Ja.agendaWeek=qc;Ja.agendaDay=rc;wb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,
maxTime:24})})(jQuery);
