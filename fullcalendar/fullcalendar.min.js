/*

 FullCalendar v1.5.3
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Fri Jul 20 15:50:45 2012 -0700

*/
(function(m,pa){function wb(a){m.extend(true,Ya,a)}function Yb(a,b,e){function d(k){if(E){u();p();ka();Q(k)}else f()}function f(){C=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");E=m("<div class='fc-content' style='position:relative'/>").prependTo(a);I=new Zb(X,b);(R=I.render())&&a.prepend(R);A(b.defaultView);m(window).resize(ra);s()||g()}function g(){setTimeout(function(){!n.start&&s()&&Q()},0)}function l(){m(window).unbind("resize",ra);I.destroy();
E.remove();a.removeClass("fc fc-rtl ui-widget")}function j(){return i.offsetWidth!==0}function s(){return m("body")[0].offsetWidth!==0}function A(k){if(!n||k!=n.name){F++;da();var D=n,W;if(D){(D.beforeHide||xb)();Za(E,E.height());D.element.hide()}else Za(E,1);E.css("overflow","hidden");if(n=U[k])n.element.show();else n=U[k]=new Ja[k](W=r=m("<div class='fc-view fc-view-"+k+"' style='position:absolute'/>").appendTo(E),X);D&&I.deactivateButton(D.name);I.activateButton(k);Q();E.css("overflow","");D&&
Za(E,1);W||(n.afterShow||xb)();F--}}function Q(k){if(j()){F++;da();o===pa&&u();var D=false;if(!n.start||k||q<n.start||q>=n.end){n.render(q,k||0);aa(true);D=true}else if(n.sizeDirty){n.clearEvents();aa();D=true}else if(n.eventsDirty){n.clearEvents();D=true}n.sizeDirty=false;n.eventsDirty=false;ha(D);T=a.outerWidth();I.updateTitle(n.title);k=new Date;k>=n.start&&k<n.end?I.disableButton("today"):I.enableButton("today");F--;n.trigger("viewDisplay",i)}}function O(){p();if(j()){u();aa();da();n.clearEvents();
n.renderEvents(J);n.sizeDirty=false}}function p(){m.each(U,function(k,D){D.sizeDirty=true})}function u(){o=b.contentHeight?b.contentHeight:b.height?b.height-(R?R.height():0)-Sa(E):Math.round(E.width()/Math.max(b.aspectRatio,0.5))}function aa(k){F++;n.setHeight(o,k);if(r){r.css("position","relative");r=null}n.setWidth(E.width(),k);F--}function ra(){if(!F)if(n.start){var k=++w;setTimeout(function(){if(k==w&&!F&&j())if(T!=(T=a.outerWidth())){F++;O();n.trigger("windowResize",i);F--}},200)}else g()}function ha(k){if(!b.lazyFetching||
ya(n.visStart,n.visEnd))qa();else k&&ga()}function qa(){G(n.visStart,n.visEnd)}function ba(k){J=k;ga()}function ta(k){ga(k)}function ga(k){ka();if(j()){n.clearEvents();n.renderEvents(J,k);n.eventsDirty=false}}function ka(){m.each(U,function(k,D){D.eventsDirty=true})}function wa(k,D,W){n.select(k,D,W===pa?true:W)}function da(){n&&n.unselect()}function V(){Q(-1)}function ca(){Q(1)}function na(){gb(q,-1);Q()}function oa(){gb(q,1);Q()}function x(){q=new Date;Q()}function c(k,D,W){if(k instanceof Date)q=
M(k);else yb(q,k,D,W);Q()}function v(k,D,W){k!==pa&&gb(q,k);D!==pa&&hb(q,D);W!==pa&&$(q,W);Q()}function t(){return M(q)}function K(){return n}function ea(k,D){if(D===pa)return b[k];if(k=="height"||k=="contentHeight"||k=="aspectRatio"){b[k]=D;O()}}function la(k,D){if(b[k])return b[k].apply(D||i,Array.prototype.slice.call(arguments,2))}var X=this;X.options=b;X.render=d;X.destroy=l;X.refetchEvents=qa;X.reportEvents=ba;X.reportEventChange=ta;X.rerenderEvents=ga;X.changeView=A;X.select=wa;X.unselect=da;
X.prev=V;X.next=ca;X.prevYear=na;X.nextYear=oa;X.today=x;X.gotoDate=c;X.incrementDate=v;X.formatDate=function(k,D){return Oa(k,D,b)};X.formatDates=function(k,D,W){return ib(k,D,W,b)};X.getDate=t;X.getView=K;X.option=ea;X.trigger=la;$b.call(X,b,e);var ya=X.isFetchNeeded,G=X.fetchEvents,i=a[0],I,R,E,C,n,U={},T,o,r,w=0,F=0,q=new Date,J=[],L;yb(q,b.year,b.month,b.date);b.droppable&&m(document).bind("dragstart",function(k,D){var W=k.target,ja=m(W);if(!ja.parents(".fc").length){var ia=b.dropAccept;if(m.isFunction(ia)?
ia.call(W,ja):ja.is(ia)){L=W;n.dragStart(L,k,D)}}}).bind("dragstop",function(k,D){if(L){n.dragStop(L,k,D);L=null}})}function Zb(a,b){function e(){p=b.theme?"ui":"fc";if(b.header)return O=m("<table class='fc-header' style='width:100%'/>").append(m("<tr/>").append(f("left")).append(f("center")).append(f("right")))}function d(){O.remove()}function f(u){var aa=m("<td class='fc-header-"+u+"'/>");(u=b.header[u])&&m.each(u.split(" "),function(ra){ra>0&&aa.append("<span class='fc-header-space'/>");var ha;
m.each(this.split(","),function(qa,ba){if(ba=="title"){aa.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ha&&ha.addClass(p+"-corner-right");ha=null}else{var ta;if(a[ba])ta=a[ba];else if(Ja[ba])ta=function(){ka.removeClass(p+"-state-hover");a.changeView(ba)};if(ta){qa=b.theme?jb(b.buttonIcons,ba):null;var ga=jb(b.buttonText,ba),ka=m("<span class='fc-button fc-button-"+ba+" "+p+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(qa?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+
qa+"'/></span>":ga)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(ka){ka.click(function(){ka.hasClass(p+"-state-disabled")||ta()}).mousedown(function(){ka.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){ka.removeClass(p+"-state-down")}).hover(function(){ka.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){ka.removeClass(p+"-state-hover").removeClass(p+"-state-down")}).appendTo(aa);
ha||ka.addClass(p+"-corner-left");ha=ka}}}});ha&&ha.addClass(p+"-corner-right")});return aa}function g(u){O.find("h2").html(u)}function l(u){O.find("span.fc-button-"+u).addClass(p+"-state-active")}function j(u){O.find("span.fc-button-"+u).removeClass(p+"-state-active")}function s(u){O.find("span.fc-button-"+u).addClass(p+"-state-disabled")}function A(u){O.find("span.fc-button-"+u).removeClass(p+"-state-disabled")}var Q=this;Q.render=e;Q.destroy=d;Q.updateTitle=g;Q.activateButton=l;Q.deactivateButton=
j;Q.disableButton=s;Q.enableButton=A;var O=m([]),p}function $b(a,b){function e(c,v){return!V||c<V||v>ca}function d(c,v){V=c;ca=v;x=[];c=++na;oa=v=da.length;for(var t=0;t<v;t++)f(da[t],c)}function f(c,v){g(c,function(t){if(v==na){if(t){for(var K=0;K<t.length;K++){t[K].source=c;aa(t[K])}x=x.concat(t)}oa--;oa||ka(x)}})}function g(c,v){var t,K=Aa.sourceFetchers,ea;for(t=0;t<K.length;t++){ea=K[t](c,V,ca,v);if(ea===true)return;else if(typeof ea=="object"){g(ea,v);return}}if(t=c.events)if(m.isFunction(t)){u();
t(M(V),M(ca),function(G){v(G);u()})}else m.isArray(t)?v(t):v();else if(c.url){var la=c.success,X=c.error,ya=c.complete;t=m.extend({},c.data||{});K=Ta(c.startParam,a.startParam);ea=Ta(c.endParam,a.endParam);if(K)t[K]=Math.round(+V/1E3);if(ea)t[ea]=Math.round(+ca/1E3);u();m.ajax(m.extend({},ac,c,{data:t,success:function(G){G=G||[];var i=$a(la,this,arguments);if(m.isArray(i))G=i;v(G)},error:function(){$a(X,this,arguments);v()},complete:function(){$a(ya,this,arguments);u()}}))}else v()}function l(c){if(c=
j(c)){oa++;f(c,na)}}function j(c){if(m.isFunction(c)||m.isArray(c))c={events:c};else if(typeof c=="string")c={url:c};if(typeof c=="object"){ra(c);da.push(c);return c}}function s(c){da=m.grep(da,function(v){return!ha(v,c)});x=m.grep(x,function(v){return!ha(v.source,c)});ka(x)}function A(c){var v,t=x.length,K,ea=ga().defaultEventEnd,la=c.start-c._start,X=c.end?c.end-(c._end||ea(c)):0;for(v=0;v<t;v++){K=x[v];if(K._id==c._id&&K!=c){K.start=new Date(+K.start+la);K.end=c.end?K.end?new Date(+K.end+X):new Date(+ea(K)+
X):null;K.title=c.title;K.url=c.url;K.allDay=c.allDay;K.className=c.className;K.editable=c.editable;K.color=c.color;K.backgroudColor=c.backgroudColor;K.borderColor=c.borderColor;K.textColor=c.textColor;aa(K)}}aa(c);ka(x)}function Q(c,v){aa(c);if(!c.source){if(v){wa.events.push(c);c.source=wa}x.push(c)}ka(x)}function O(c){if(c){if(!m.isFunction(c)){var v=c+"";c=function(K){return K._id==v}}x=m.grep(x,c,true);for(t=0;t<da.length;t++)if(m.isArray(da[t].events))da[t].events=m.grep(da[t].events,c,true)}else{x=
[];for(var t=0;t<da.length;t++)if(m.isArray(da[t].events))da[t].events=[]}ka(x)}function p(c){if(m.isFunction(c))return m.grep(x,c);else if(c){c+="";return m.grep(x,function(v){return v._id==c})}return x}function u(){ta("loading",null,oa||false,da.length)}function aa(c){var v=c.source||{},t=Ta(v.ignoreTimezone,a.ignoreTimezone);c._id=c._id||(c.id===pa?"_fc"+bc++:c.id+"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=M(c.start=kb(c.start,t));c.end=kb(c.end,t);if(c.end&&c.end<=c.start)c.end=
null;c._end=c.end?M(c.end):null;if(c.allDay===pa)c.allDay=Ta(v.allDayDefault,a.allDayDefault);if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}function ra(c){if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[];for(var v=Aa.sourceNormalizers,t=0;t<v.length;t++)v[t](c)}function ha(c,v){return c&&v&&qa(c)==qa(v)}function qa(c){return(typeof c=="object"?c.events||c.url:"")||c}var ba=this;ba.isFetchNeeded=
e;ba.fetchEvents=d;ba.addEventSource=l;ba.removeEventSource=s;ba.updateEvent=A;ba.renderEvent=Q;ba.removeEvents=O;ba.clientEvents=p;ba.normalizeEvent=aa;var ta=ba.trigger,ga=ba.getView,ka=ba.reportEvents,wa={events:[]},da=[wa],V,ca,na=0,oa=0,x=[];for(ba=0;ba<b.length;ba++)j(b[ba])}function gb(a,b,e){a.setFullYear(a.getFullYear()+b);e||Ka(a);return a}function hb(a,b,e){if(+a){b=a.getMonth()+b;var d=M(a);d.setDate(1);d.setMonth(b);a.setMonth(b);for(e||Ka(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+
(a<d?1:-1))}return a}function $(a,b,e){if(+a){b=a.getDate()+b;var d=M(a);d.setHours(9);d.setDate(b);a.setDate(b);e||Ka(a);lb(a,d)}return a}function lb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*cc)}function xa(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ka(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function M(a,b){if(b)return Ka(new Date(+a));return new Date(+a)}function zb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());
return b}function Fa(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)$(a,b);return a}function Ca(a,b){return Math.round((M(a,true)-M(b,true))/Ab)}function yb(a,b,e,d){if(b!==pa&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==pa&&e!=a.getMonth()){a.setDate(1);a.setMonth(e)}d!==pa&&a.setDate(d)}function kb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*
1E3);if(b===pa)b=true;return Bb(a,b)||(a?new Date(a):null)}return null}function Bb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var e=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);b.setDate(a[5])}lb(e,b);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+
a[12])*1E3);lb(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;e=new Date(+e+b*60*1E3)}}return e}function mb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],
10):0)}}function Oa(a,b,e){return ib(a,null,b,e)}function ib(a,b,e,d){d=d||Ya;var f=a,g=b,l,j=e.length,s,A,Q,O="";for(l=0;l<j;l++){s=e.charAt(l);if(s=="'")for(A=l+1;A<j;A++){if(e.charAt(A)=="'"){if(f){O+=A==l+1?"'":e.substring(l+1,A);l=A}break}}else if(s=="(")for(A=l+1;A<j;A++){if(e.charAt(A)==")"){l=Oa(f,e.substring(l+1,A),d);if(parseInt(l.replace(/\D/,""),10))O+=l;l=A;break}}else if(s=="[")for(A=l+1;A<j;A++){if(e.charAt(A)=="]"){s=e.substring(l+1,A);l=Oa(f,s,d);if(l!=Oa(g,s,d))O+=l;l=A;break}}else if(s==
"{"){f=b;g=a}else if(s=="}"){f=a;g=b}else{for(A=j;A>l;A--)if(Q=dc[e.substring(l,A)]){if(f)O+=Q(f,d);l=A-1;break}if(A==l)if(f)O+=s}}return O}function Ua(a){return a.end?ec(a.end,a.allDay):$(M(a.start),1)}function ec(a,b){a=M(a);return b||a.getHours()||a.getMinutes()?$(a,1):Ka(a)}function fc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Cb(a,b){return a.end>b.start&&a.start<b.end}function nb(a,b,e,d){var f=[],g,l=a.length,j,s,A,Q,O;for(g=0;g<l;g++){j=a[g];s=j.start;A=
b[g];if(A>e&&s<d){if(s<e){s=M(e);Q=false}else{s=s;Q=true}if(A>d){A=M(d);O=false}else{A=A;O=true}f.push({event:j,start:s,end:A,isStart:Q,isEnd:O,msLength:A-s})}}return f.sort(fc)}function ob(a){var b=[],e,d=a.length,f,g,l,j;for(e=0;e<d;e++){f=a[e];for(g=0;;){l=false;if(b[g])for(j=0;j<b[g].length;j++)if(Cb(b[g][j],f)){l=true;break}if(l)g++;else break}if(b[g])b[g].push(f);else b[g]=[f]}return b}function Db(a,b,e){a.unbind("mouseover").mouseover(function(d){for(var f=d.target,g;f!=this;){g=f;f=f.parentNode}if((f=
g._fci)!==pa){g._fci=pa;g=b[f];e(g.event,g.element,g);m(d.target).trigger(d)}d.stopPropagation()})}function Va(a,b,e){for(var d=0,f;d<a.length;d++){f=m(a[d]);f.width(Math.max(0,b-pb(f,e)))}}function Eb(a,b,e){for(var d=0,f;d<a.length;d++){f=m(a[d]);f.height(Math.max(0,b-Sa(f,e)))}}function pb(a,b){return gc(a)+hc(a)+(b?ic(a):0)}function gc(a){return(parseFloat(m.curCSS(a[0],"paddingLeft",true))||0)+(parseFloat(m.curCSS(a[0],"paddingRight",true))||0)}function ic(a){return(parseFloat(m.curCSS(a[0],
"marginLeft",true))||0)+(parseFloat(m.curCSS(a[0],"marginRight",true))||0)}function hc(a){return(parseFloat(m.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(m.curCSS(a[0],"borderRightWidth",true))||0)}function Sa(a,b){return jc(a)+kc(a)+(b?Fb(a):0)}function jc(a){return(parseFloat(m.curCSS(a[0],"paddingTop",true))||0)+(parseFloat(m.curCSS(a[0],"paddingBottom",true))||0)}function Fb(a){return(parseFloat(m.curCSS(a[0],"marginTop",true))||0)+(parseFloat(m.curCSS(a[0],"marginBottom",true))||0)}
function kc(a){return(parseFloat(m.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(m.curCSS(a[0],"borderBottomWidth",true))||0)}function Za(a,b){b=typeof b=="number"?b+"px":b;a.each(function(e,d){d.style.cssText+=";min-height:"+b+";_height:"+b})}function xb(){}function Gb(a,b){return a-b}function Hb(a){return Math.max.apply(Math,a)}function Pa(a){return(a<10?"0":"")+a}function jb(a,b){if(a[b]!==pa)return a[b];b=b.split(/(?=[A-Z])/);for(var e=b.length-1,d;e>=0;e--){d=a[b[e].toLowerCase()];if(d!==
pa)return d}return a[""]}function Qa(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Ib(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function qb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function ab(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}
function rb(a,b){a.each(function(e,d){d.className=d.className.replace(/^fc-\w*/,"fc-"+lc[b.getDay()])})}function Jb(a,b){var e=a.source||{},d=a.color,f=e.color,g=b("eventColor"),l=a.backgroundColor||d||e.backgroundColor||f||b("eventBackgroundColor")||g;d=a.borderColor||d||e.borderColor||f||b("eventBorderColor")||g;a=a.textColor||e.textColor||b("eventTextColor");b=[];l&&b.push("background-color:"+l);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")}function $a(a,b,e){if(m.isFunction(a))a=
[a];if(a){var d,f;for(d=0;d<a.length;d++)f=a[d].apply(b,e)||f;return f}}function Ta(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==pa)return arguments[a]}function mc(a,b){function e(j,s){if(s){hb(j,s);j.setDate(1)}j=M(j,true);j.setDate(1);s=hb(M(j),1);var A=M(j),Q=M(s),O=f("firstDay"),p=f("weekends")?0:1;if(p){Fa(A);Fa(Q,-1,true)}$(A,-((A.getDay()-Math.max(O,p)+7)%7));$(Q,(7-Q.getDay()+Math.max(O,p))%7);O=Math.round((Q-A)/(Ab*7));if(f("weekMode")=="fixed"){$(Q,(6-O)*7);O=6}d.title=l(j,f("titleFormat"));
d.start=j;d.end=s;d.visStart=A;d.visEnd=Q;g(6,O,p?5:7,true)}var d=this;d.render=e;sb.call(d,a,b,"month");var f=d.opt,g=d.renderBasic,l=b.formatDate}function nc(a,b){function e(j,s){s&&$(j,s*7);j=$(M(j),-((j.getDay()-f("firstDay")+7)%7));s=$(M(j),7);var A=M(j),Q=M(s),O=f("weekends");if(!O){Fa(A);Fa(Q,-1,true)}d.title=l(A,$(M(Q),-1),f("titleFormat"));d.start=j;d.end=s;d.visStart=A;d.visEnd=Q;g(1,1,O?7:5,false)}var d=this;d.render=e;sb.call(d,a,b,"basicWeek");var f=d.opt,g=d.renderBasic,l=b.formatDates}
function oc(a,b){function e(j,s){if(s){$(j,s);f("weekends")||Fa(j,s<0?-1:1)}d.title=l(j,f("titleFormat"));d.start=d.visStart=M(j,true);d.end=d.visEnd=$(M(d.start),1);g(1,1,1,false)}var d=this;d.render=e;sb.call(d,a,b,"basicDay");var f=d.opt,g=d.renderBasic,l=b.formatDate}function sb(a,b,e){function d(y,H,P,S){w=H;F=P;f();(H=!I)?g(y,S):K();l(H)}function f(){if(k=v("isRTL")){D=-1;W=F-1}else{D=1;W=0}ja=v("firstDay");ia=v("weekends")?0:1;ma=v("theme")?"ui":"fc";Y=v("columnFormat")}function g(y,H){var P,
S=ma+"-widget-header",fa=ma+"-widget-content",Z;P="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(Z=0;Z<F;Z++)P+="<th class='fc- "+S+"'/>";P+="</tr></thead><tbody>";for(Z=0;Z<y;Z++){P+="<tr class='fc-week"+Z+"'>";for(S=0;S<F;S++)P+="<td class='fc- "+fa+" fc-day"+(Z*F+S)+"'><div>"+(H?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";P+="</tr>"}P+="</tbody></table>";y=m(P).appendTo(a);
G=y.find("thead");i=G.find("th");I=y.find("tbody");R=I.find("tr");E=I.find("td");C=E.filter(":first-child");n=R.eq(0).find("div.fc-day-content div");ab(G.add(G.find("tr")));ab(R);R.eq(0).addClass("fc-first");A(E);U=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function l(y){var H=y||w==1,P=c.start.getMonth(),S=Ka(new Date),fa,Z,ua;H&&i.each(function(va,Ga){fa=m(Ga);Z=ca(va);fa.html(ya(Z,Y));rb(fa,Z)});E.each(function(va,Ga){fa=m(Ga);Z=ca(va);Z.getMonth()==P?fa.removeClass("fc-other-month"):
fa.addClass("fc-other-month");+Z==+S?fa.addClass(ma+"-state-highlight fc-today"):fa.removeClass(ma+"-state-highlight fc-today");fa.find("div.fc-day-number").text(Z.getDate());H&&rb(fa,Z)});R.each(function(va,Ga){ua=m(Ga);if(va<w){ua.show();va==w-1?ua.addClass("fc-last"):ua.removeClass("fc-last")}else ua.hide()})}function j(y){o=y;y=o-G.height();var H,P,S;if(v("weekMode")=="variable")H=P=Math.floor(y/(w==1?2:6));else{H=Math.floor(y/w);P=y-H*(w-1)}C.each(function(fa,Z){if(fa<w){S=m(Z);Za(S.find("> div"),
(fa==w-1?P:H)-Sa(S))}})}function s(y){T=y;L.clear();r=Math.floor(T/F);Va(i.slice(0,-1),r)}function A(y){y.click(Q).mousedown(X)}function Q(y){if(!v("selectable")){var H=parseInt(this.className.match(/fc\-day(\d+)/)[1]);H=ca(H);t("dayClick",this,H,true,y)}}function O(y,H,P){P&&q.build();P=M(c.visStart);for(var S=$(M(P),F),fa=0;fa<w;fa++){var Z=new Date(Math.max(P,y)),ua=new Date(Math.min(S,H));if(Z<ua){var va;if(k){va=Ca(ua,P)*D+W+1;Z=Ca(Z,P)*D+W+1}else{va=Ca(Z,P);Z=Ca(ua,P)}A(p(fa,va,fa,Z-1))}$(P,
7);$(S,7)}}function p(y,H,P,S){y=q.rect(y,H,P,S,a);return ea(y,a)}function u(y){return M(y)}function aa(y,H){O(y,$(M(H),1),true)}function ra(){la()}function ha(y,H,P){var S=wa(y);t("dayClick",E[S.row*F+S.col],y,H,P)}function qa(y,H){J.start(function(P){la();P&&p(P.row,P.col,P.row,P.col)},H)}function ba(y,H,P){var S=J.stop();la();if(S){S=da(S);t("drop",y,S,true,H,P)}}function ta(y){return M(y.start)}function ga(y){return L.left(y)}function ka(y){return L.right(y)}function wa(y){return{row:Math.floor(Ca(y,
c.visStart)/7),col:na(y.getDay())}}function da(y){return V(y.row,y.col)}function V(y,H){return $(M(c.visStart),y*7+H*D+W)}function ca(y){return V(Math.floor(y/F),y%F)}function na(y){return(y-Math.max(ja,ia)+F)%F*D+W}function oa(y){return R.eq(y)}function x(){return{left:0,right:T}}var c=this;c.renderBasic=d;c.setHeight=j;c.setWidth=s;c.renderDayOverlay=O;c.defaultSelectionEnd=u;c.renderSelection=aa;c.clearSelection=ra;c.reportDayClick=ha;c.dragStart=qa;c.dragStop=ba;c.defaultEventEnd=ta;c.getHoverListener=
function(){return J};c.colContentLeft=ga;c.colContentRight=ka;c.dayOfWeekCol=na;c.dateCell=wa;c.cellDate=da;c.cellIsAllDay=function(){return true};c.allDayRow=oa;c.allDayBounds=x;c.getRowCnt=function(){return w};c.getColCnt=function(){return F};c.getColWidth=function(){return r};c.getDaySegmentContainer=function(){return U};Kb.call(c,a,b,e);Lb.call(c);Mb.call(c);pc.call(c);var v=c.opt,t=c.trigger,K=c.clearEvents,ea=c.renderOverlay,la=c.clearOverlays,X=c.daySelectionMousedown,ya=b.formatDate,G,i,I,
R,E,C,n,U,T,o,r,w,F,q,J,L,k,D,W,ja,ia,ma,Y;qb(a.addClass("fc-grid"));q=new Nb(function(y,H){var P,S,fa;i.each(function(Z,ua){P=m(ua);S=P.offset().left;if(Z)fa[1]=S;fa=[S];H[Z]=fa});fa[1]=S+P.outerWidth();R.each(function(Z,ua){if(Z<w){P=m(ua);S=P.offset().top;if(Z)fa[1]=S;fa=[S];y[Z]=fa}});fa[1]=S+P.outerHeight()});J=new Ob(q);L=new Pb(function(y){return n.eq(y)})}function pc(){function a(V,ca){Q(V);wa(e(V),ca)}function b(){O();ha().empty()}function e(V){var ca=ga(),na=ka(),oa=M(g.visStart);na=$(M(oa),
na);var x=m.map(V,Ua),c,v,t,K,ea,la,X=[];for(c=0;c<ca;c++){v=ob(nb(V,x,oa,na));for(t=0;t<v.length;t++){K=v[t];for(ea=0;ea<K.length;ea++){la=K[ea];la.row=c;la.level=t;X.push(la)}}$(oa,7);$(na,7)}return X}function d(V,ca,na){s(V)&&f(V,ca);na.isEnd&&A(V)&&da(V,ca,na);p(V,ca)}function f(V,ca){var na=qa(),oa;ca.draggable({zIndex:9,delay:50,opacity:l("dragOpacity"),revertDuration:l("dragRevertDuration"),start:function(x,c){j("eventDragStart",ca,V,x,c);aa(V,ca);na.start(function(v,t,K,ea){ca.draggable("option",
"revert",!v||!K&&!ea);ta();if(v){oa=K*7+ea*(l("isRTL")?-1:1);ba($(M(V.start),oa),$(Ua(V),oa))}else oa=0},x,"drag")},stop:function(x,c){na.stop();ta();j("eventDragStop",ca,V,x,c);if(oa)ra(this,V,oa,0,V.allDay,x,c);else{ca.css("filter","");u(V,ca)}}})}var g=this;g.renderEvents=a;g.compileDaySegs=e;g.clearEvents=b;g.bindDaySeg=d;Qb.call(g);var l=g.opt,j=g.trigger,s=g.isEventDraggable,A=g.isEventResizable,Q=g.reportEvents,O=g.reportEventClear,p=g.eventElementHandlers,u=g.showEvents,aa=g.hideEvents,ra=
g.eventDrop,ha=g.getDaySegmentContainer,qa=g.getHoverListener,ba=g.renderDayOverlay,ta=g.clearOverlays,ga=g.getRowCnt,ka=g.getColCnt,wa=g.renderDaySegs,da=g.resizableDayEvent}function qc(a,b){function e(j,s){s&&$(j,s*7);j=$(M(j),-((j.getDay()-f("firstDay")+7)%7));s=$(M(j),7);var A=M(j),Q=M(s),O=f("weekends");if(!O){Fa(A);Fa(Q,-1,true)}d.title=l(A,$(M(Q),-1),f("titleFormat"));d.start=j;d.end=s;d.visStart=A;d.visEnd=Q;g(O?7:5)}var d=this;d.render=e;Rb.call(d,a,b,"agendaWeek");var f=d.opt,g=d.renderAgenda,
l=b.formatDates}function rc(a,b){function e(j,s){if(s){$(j,s);f("weekends")||Fa(j,s<0?-1:1)}s=M(j,true);var A=$(M(s),1);d.title=l(j,f("titleFormat"));d.start=d.visStart=s;d.end=d.visEnd=A;g(1)}var d=this;d.render=e;Rb.call(d,a,b,"agendaDay");var f=d.opt,g=d.renderAgenda,l=b.formatDate}function Rb(a,b,e){function d(h){Ba=h;f();w?R():g();l()}function f(){Wa=i("theme")?"ui":"fc";Sb=i("weekends")?0:1;Tb=i("firstDay");if(Ub=i("isRTL")){Ha=-1;Ia=Ba-1}else{Ha=1;Ia=0}La=mb(i("minTime"));bb=mb(i("maxTime"));
Vb=i("columnFormat")}function g(){var h=Wa+"-widget-header",N=Wa+"-widget-content",z,B,sa,za,Da,Ea=i("slotMinutes")%15==0;z="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(B=0;B<Ba;B++)z+="<th class='fc- fc-col"+B+" "+h+"'/>";z+="<th class='fc-agenda-gutter "+h+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(B=0;B<Ba;B++)z+="<td class='fc- fc-col"+B+" "+N+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";
z+="<td class='fc-agenda-gutter "+N+"'>&nbsp;</td></tr></tbody></table>";w=m(z).appendTo(a);F=w.find("thead");q=F.find("th").slice(1,-1);J=w.find("tbody");L=J.find("td").slice(0,-1);k=L.find("div.fc-day-content div");D=L.eq(0);W=D.find("> div");ab(F.add(F.find("tr")));ab(J.add(J.find("tr")));Z=F.find("th:first");ua=w.find(".fc-agenda-gutter");ja=m("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(i("allDaySlot")){ia=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ja);
z="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+i("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+h+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ma=m(z).appendTo(ja);Y=ma.find("tr");p(Y.find("td"));Z=Z.add(ma.find("th:first"));ua=ua.add(ma.find("th.fc-agenda-gutter"));ja.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")}else ia=m([]);y=
m("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ja);H=m("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(y);P=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(H);z="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";sa=zb();za=xa(M(sa),bb);xa(sa,La);for(B=tb=0;sa<za;B++){Da=sa.getMinutes();z+="<tr class='fc-slot"+B+" "+(!Da?"":"fc-minor")+"'><th class='fc-agenda-axis "+h+"'>"+(!Ea||!Da?
r(sa,i("axisFormat")):"&nbsp;")+"</th><td class='"+N+"'><div style='position:relative'>&nbsp;</div></td></tr>";xa(sa,i("slotMinutes"));tb++}z+="</tbody></table>";S=m(z).appendTo(H);fa=S.find("div:first");u(S.find("td"));Z=Z.add(S.find("th:first"))}function l(){var h,N,z,B,sa=Ka(new Date);for(h=0;h<Ba;h++){B=wa(h);N=q.eq(h);N.html(r(B,Vb));z=L.eq(h);+B==+sa?z.addClass(Wa+"-state-highlight fc-today"):z.removeClass(Wa+"-state-highlight fc-today");rb(N.add(z),B)}}function j(h,N){if(h===pa)h=Wb;Wb=h;ub=
{};var z=J.position().top,B=y.position().top;h=Math.min(h-z,S.height()+B+1);W.height(h-Sa(D));ja.css("top",z);y.height(h-B-1);Xa=fa.height()+1;N&&A()}function s(h){Ga=h;cb.clear();Ma=0;Va(Z.width("").each(function(N,z){Ma=Math.max(Ma,m(z).outerWidth())}),Ma);h=y[0].clientWidth;if(vb=y.width()-h){Va(ua,vb);ua.show().prev().removeClass("fc-last")}else ua.hide().prev().addClass("fc-last");db=Math.floor((h-Ma)/Ba);Va(q.slice(0,-1),db)}function A(){function h(){y.scrollTop(B)}var N=zb(),z=M(N);z.setHours(i("firstHour"));
var B=ca(N,z)+1;h();setTimeout(h,0)}function Q(){Xb=y.scrollTop()}function O(){y.scrollTop(Xb)}function p(h){h.click(aa).mousedown(T)}function u(h){h.click(aa).mousedown(ea)}function aa(h){if(!i("selectable")){var N=Math.min(Ba-1,Math.floor((h.pageX-w.offset().left-Ma)/db)),z=wa(N),B=this.parentNode.className.match(/fc-slot(\d+)/);if(B){B=parseInt(B[1])*i("slotMinutes");var sa=Math.floor(B/60);z.setHours(sa);z.setMinutes(B%60+La);I("dayClick",L[N],z,false,h)}else I("dayClick",L[N],z,true,h)}}function ra(h,
N,z){z&&Na.build();var B=M(G.visStart);if(Ub){z=Ca(N,B)*Ha+Ia+1;h=Ca(h,B)*Ha+Ia+1}else{z=Ca(h,B);h=Ca(N,B)}z=Math.max(0,z);h=Math.min(Ba,h);z<h&&p(ha(0,z,0,h-1))}function ha(h,N,z,B){h=Na.rect(h,N,z,B,ja);return E(h,ja)}function qa(h,N){for(var z=M(G.visStart),B=$(M(z),1),sa=0;sa<Ba;sa++){var za=new Date(Math.max(z,h)),Da=new Date(Math.min(B,N));if(za<Da){var Ea=sa*Ha+Ia;Ea=Na.rect(0,Ea,0,Ea,H);za=ca(z,za);Da=ca(z,Da);Ea.top=za;Ea.height=Da-za;u(E(Ea,H))}$(z,1);$(B,1)}}function ba(h){return cb.left(h)}
function ta(h){return cb.right(h)}function ga(h){return{row:Math.floor(Ca(h,G.visStart)/7),col:V(h.getDay())}}function ka(h){var N=wa(h.col);h=h.row;i("allDaySlot")&&h--;h>=0&&xa(N,La+h*i("slotMinutes"));return N}function wa(h){return $(M(G.visStart),h*Ha+Ia)}function da(h){return i("allDaySlot")&&!h.row}function V(h){return(h-Math.max(Tb,Sb)+Ba)%Ba*Ha+Ia}function ca(h,N){h=M(h,true);if(N<xa(M(h),La))return 0;if(N>=xa(M(h),bb))return S.height();h=i("slotMinutes");N=N.getHours()*60+N.getMinutes()-
La;var z=Math.floor(N/h),B=ub[z];if(B===pa)B=ub[z]=S.find("tr:eq("+z+") td div")[0].offsetTop;return Math.max(0,Math.round(B-1+Xa*(N%h/h)))}function na(){return{left:Ma,right:Ga-vb}}function oa(){return Y}function x(h){var N=M(h.start);if(h.allDay)return N;return xa(N,i("defaultEventMinutes"))}function c(h,N){if(N)return M(h);return xa(M(h),i("slotMinutes"))}function v(h,N,z){if(z)i("allDaySlot")&&ra(h,$(M(N),1),true);else t(h,N)}function t(h,N){var z=i("selectHelper");Na.build();if(z){var B=Ca(h,
G.visStart)*Ha+Ia;if(B>=0&&B<Ba){B=Na.rect(0,B,0,B,H);var sa=ca(h,h),za=ca(h,N);if(za>sa){B.top=sa;B.height=za-sa;B.left+=2;B.width-=5;if(m.isFunction(z)){if(h=z(h,N)){B.position="absolute";B.zIndex=8;va=m(h).css(B).appendTo(H)}}else{B.isStart=true;B.isEnd=true;va=m(o({title:"",start:h,end:N,className:["fc-select-helper"],editable:false},B));va.css("opacity",i("dragOpacity"))}if(va){u(va);H.append(va);Va(va,B.width,true);Eb(va,B.height,true)}}}}else qa(h,N)}function K(){C();if(va){va.remove();va=
null}}function ea(h){if(h.which==1&&i("selectable")){U(h);var N;Ra.start(function(z,B){K();if(z&&z.col==B.col&&!da(z)){B=ka(B);z=ka(z);N=[B,xa(M(B),i("slotMinutes")),z,xa(M(z),i("slotMinutes"))].sort(Gb);t(N[0],N[3])}else N=null},h);m(document).one("mouseup",function(z){Ra.stop();if(N){+N[0]==+N[1]&&la(N[0],false,z);n(N[0],N[3],false,z)}})}}function la(h,N,z){I("dayClick",L[V(h.getDay())],h,N,z)}function X(h,N){Ra.start(function(z){C();if(z)if(da(z))ha(z.row,z.col,z.row,z.col);else{z=ka(z);var B=
xa(M(z),i("defaultEventMinutes"));qa(z,B)}},N)}function ya(h,N,z){var B=Ra.stop();C();B&&I("drop",h,ka(B),da(B),N,z)}var G=this;G.renderAgenda=d;G.setWidth=s;G.setHeight=j;G.beforeHide=Q;G.afterShow=O;G.defaultEventEnd=x;G.timePosition=ca;G.dayOfWeekCol=V;G.dateCell=ga;G.cellDate=ka;G.cellIsAllDay=da;G.allDayRow=oa;G.allDayBounds=na;G.getHoverListener=function(){return Ra};G.colContentLeft=ba;G.colContentRight=ta;G.getDaySegmentContainer=function(){return ia};G.getSlotSegmentContainer=function(){return P};
G.getMinMinute=function(){return La};G.getMaxMinute=function(){return bb};G.getBodyContent=function(){return H};G.getRowCnt=function(){return 1};G.getColCnt=function(){return Ba};G.getColWidth=function(){return db};G.getSlotHeight=function(){return Xa};G.defaultSelectionEnd=c;G.renderDayOverlay=ra;G.renderSelection=v;G.clearSelection=K;G.reportDayClick=la;G.dragStart=X;G.dragStop=ya;Kb.call(G,a,b,e);Lb.call(G);Mb.call(G);sc.call(G);var i=G.opt,I=G.trigger,R=G.clearEvents,E=G.renderOverlay,C=G.clearOverlays,
n=G.reportSelection,U=G.unselect,T=G.daySelectionMousedown,o=G.slotSegHtml,r=b.formatDate,w,F,q,J,L,k,D,W,ja,ia,ma,Y,y,H,P,S,fa,Z,ua,va,Ga,Wb,Ma,db,vb,Xa,Xb,Ba,tb,Na,Ra,cb,ub={},Wa,Tb,Sb,Ub,Ha,Ia,La,bb,Vb;qb(a.addClass("fc-agenda"));Na=new Nb(function(h,N){function z(eb){return Math.max(Ea,Math.min(tc,eb))}var B,sa,za;q.each(function(eb,uc){B=m(uc);sa=B.offset().left;if(eb)za[1]=sa;za=[sa];N[eb]=za});za[1]=sa+B.outerWidth();if(i("allDaySlot")){B=Y;sa=B.offset().top;h[0]=[sa,sa+B.outerHeight()]}for(var Da=
H.offset().top,Ea=y.offset().top,tc=Ea+y.outerHeight(),fb=0;fb<tb;fb++)h.push([z(Da+Xa*fb),z(Da+Xa*(fb+1))])});Ra=new Ob(Na);cb=new Pb(function(h){return k.eq(h)})}function sc(){function a(o,r){ba(o);var w,F=o.length,q=[],J=[];for(w=0;w<F;w++)o[w].allDay?q.push(o[w]):J.push(o[w]);if(u("allDaySlot")){v(e(q),r);ka()}g(d(J),r)}function b(){ta();wa().empty();da().empty()}function e(o){o=ob(nb(o,m.map(o,Ua),p.visStart,p.visEnd));var r,w=o.length,F,q,J,L=[];for(r=0;r<w;r++){F=o[r];for(q=0;q<F.length;q++){J=
F[q];J.row=0;J.level=r;L.push(J)}}return L}function d(o){var r=K(),w=na(),F=ca(),q=xa(M(p.visStart),w),J=m.map(o,f),L,k,D,W,ja,ia,ma=[];for(L=0;L<r;L++){k=ob(nb(o,J,q,xa(M(q),F-w)));vc(k);for(D=0;D<k.length;D++){W=k[D];for(ja=0;ja<W.length;ja++){ia=W[ja];ia.col=L;ia.level=D;ma.push(ia)}}$(q,1,true)}return ma}function f(o){return o.end?M(o.end):xa(M(o.start),u("defaultEventMinutes"))}function g(o,r){var w,F=o.length,q,J,L,k,D,W,ja,ia,ma,Y="",y,H,P={},S={},fa=da(),Z;w=K();if(y=u("isRTL")){H=-1;Z=w-
1}else{H=1;Z=0}for(w=0;w<F;w++){q=o[w];J=q.event;L=oa(q.start,q.start);k=oa(q.start,q.end);D=q.col;W=q.level;ja=q.forward||0;ia=x(D*H+Z);ma=c(D*H+Z)-ia;ma=Math.min(ma-6,ma*0.95);D=W?ma/(W+ja+1):ja?(ma/(ja+1)-6)*2:ma;W=ia+ma/(W+ja+1)*W*H+(y?ma-D:0);q.top=L;q.left=W;q.outerWidth=D;q.outerHeight=k-L;Y+=l(J,q)}fa[0].innerHTML=Y;y=fa.children();for(w=0;w<F;w++){q=o[w];J=q.event;Y=m(y[w]);H=aa("eventRender",J,J,Y);if(H===false)Y.remove();else{if(H&&H!==true){Y.remove();Y=m(H).css({position:"absolute",top:q.top,
left:q.left}).appendTo(fa)}q.element=Y;if(J._id===r)s(J,Y,q);else Y[0]._fci=w;ya(J,Y)}}Db(fa,o,s);for(w=0;w<F;w++){q=o[w];if(Y=q.element){J=P[r=q.key=Ib(Y[0])];q.vsides=J===pa?(P[r]=Sa(Y,true)):J;J=S[r];q.hsides=J===pa?(S[r]=pb(Y,true)):J;r=Y.find("div.fc-event-content");if(r.length)q.contentTop=r[0].offsetTop}}for(w=0;w<F;w++){q=o[w];if(Y=q.element){Y[0].style.width=Math.max(0,q.outerWidth-q.hsides)+"px";P=Math.max(0,q.outerHeight-q.vsides);Y[0].style.height=P+"px";J=q.event;if(q.contentTop!==pa&&
P-q.contentTop<10){Y.find("div.fc-event-time").text(U(J.start,u("timeFormat"))+" - "+J.title);Y.find("div.fc-event-title").remove()}aa("eventAfterRender",J,J,Y)}}}function l(o,r){var w="<",F=o.url,q=Jb(o,u),J=q?" style='"+q+"'":"",L=["fc-event","fc-event-skin","fc-event-vert"];ra(o)&&L.push("fc-event-draggable");r.isStart&&L.push("fc-corner-top");r.isEnd&&L.push("fc-corner-bottom");L=L.concat(o.className);if(o.source)L=L.concat(o.source.className||[]);w+=F?"a href='"+Qa(o.url)+"'":"div";w+=" class='"+
L.join(" ")+"' style='position:absolute;z-index:8;top:"+r.top+"px;left:"+r.left+"px;"+q+"'><div class='fc-event-inner fc-event-skin'"+J+"><div class='fc-event-head fc-event-skin'"+J+"><div class='fc-event-time'>"+Qa(T(o.start,o.end,u("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Qa(o.title)+"</div></div><div class='fc-event-bg'></div></div>";if(r.isEnd&&ha(o))w+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";w+="</"+(F?"a":"div")+">";return w}
function j(o,r,w){ra(o)&&A(o,r,w.isStart);w.isEnd&&ha(o)&&t(o,r,w);ga(o,r)}function s(o,r,w){var F=r.find("div.fc-event-time");ra(o)&&Q(o,r,F);w.isEnd&&ha(o)&&O(o,r,F);ga(o,r)}function A(o,r,w){function F(){if(!L){r.width(q).height("").draggable("option","grid",null);L=true}}var q,J,L=true,k,D=u("isRTL")?-1:1,W=V(),ja=ea(),ia=la(),ma=na();r.draggable({zIndex:9,opacity:u("dragOpacity","month"),revertDuration:u("dragRevertDuration"),start:function(Y,y){aa("eventDragStart",r,o,Y,y);i(o,r);q=r.width();
W.start(function(H,P,S,fa){C();if(H){J=false;k=fa*D;if(H.row)if(w){if(L){r.width(ja-10);Eb(r,ia*Math.round((o.end?(o.end-o.start)/wc:u("defaultEventMinutes"))/u("slotMinutes")));r.draggable("option","grid",[ja,1]);L=false}}else J=true;else{E($(M(o.start),k),$(Ua(o),k));F()}J=J||L&&!k}else{F();J=true}r.draggable("option","revert",J)},Y,"drag")},stop:function(Y,y){W.stop();C();aa("eventDragStop",r,o,Y,y);if(J){F();r.css("filter","");G(o,r)}else{var H=0;L||(H=Math.round((r.offset().top-X().offset().top)/
ia)*u("slotMinutes")+ma-(o.start.getHours()*60+o.start.getMinutes()));I(this,o,k,H,L,Y,y)}}})}function Q(o,r,w){function F(H){var P=xa(M(o.start),H),S;if(o.end)S=xa(M(o.end),H);w.text(T(P,S,u("timeFormat")))}function q(){if(L){w.css("display","");r.draggable("option","grid",[Y,y]);L=false}}var J,L=false,k,D,W,ja=u("isRTL")?-1:1,ia=V(),ma=K(),Y=ea(),y=la();r.draggable({zIndex:9,scroll:false,grid:[Y,y],axis:ma==1?"y":false,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(H,
P){aa("eventDragStart",r,o,H,P);i(o,r);J=r.position();D=W=0;ia.start(function(S,fa,Z,ua){r.draggable("option","revert",!S);C();if(S){k=ua*ja;if(u("allDaySlot")&&!S.row){if(!L){L=true;w.hide();r.draggable("option","grid",null)}E($(M(o.start),k),$(Ua(o),k))}else q()}},H,"drag")},drag:function(H,P){D=Math.round((P.position.top-J.top)/y)*u("slotMinutes");if(D!=W){L||F(D);W=D}},stop:function(H,P){var S=ia.stop();C();aa("eventDragStop",r,o,H,P);if(S&&(k||D||L))I(this,o,k,L?0:D,L,H,P);else{q();r.css("filter",
"");r.css(J);F(0);G(o,r)}}})}function O(o,r,w){var F,q,J=la();r.resizable({handles:{s:"div.ui-resizable-s"},grid:J,start:function(L,k){F=q=0;i(o,r);r.css("z-index",9);aa("eventResizeStart",this,o,L,k)},resize:function(L,k){F=Math.round((Math.max(J,r.height())-k.originalSize.height)/J);if(F!=q){w.text(T(o.start,!F&&!o.end?null:xa(qa(o),u("slotMinutes")*F),u("timeFormat")));q=F}},stop:function(L,k){aa("eventResizeStop",this,o,L,k);if(F)R(this,o,0,u("slotMinutes")*F,L,k);else{r.css("z-index",8);G(o,
r)}}})}var p=this;p.renderEvents=a;p.compileDaySegs=e;p.clearEvents=b;p.slotSegHtml=l;p.bindDaySeg=j;Qb.call(p);var u=p.opt,aa=p.trigger,ra=p.isEventDraggable,ha=p.isEventResizable,qa=p.eventEnd,ba=p.reportEvents,ta=p.reportEventClear,ga=p.eventElementHandlers,ka=p.setHeight,wa=p.getDaySegmentContainer,da=p.getSlotSegmentContainer,V=p.getHoverListener,ca=p.getMaxMinute,na=p.getMinMinute,oa=p.timePosition,x=p.colContentLeft,c=p.colContentRight,v=p.renderDaySegs,t=p.resizableDayEvent,K=p.getColCnt,
ea=p.getColWidth,la=p.getSlotHeight,X=p.getBodyContent,ya=p.reportEventElement,G=p.showEvents,i=p.hideEvents,I=p.eventDrop,R=p.eventResize,E=p.renderDayOverlay,C=p.clearOverlays,n=p.calendar,U=n.formatDate,T=n.formatDates}function vc(a){var b,e,d,f,g,l;for(b=a.length-1;b>0;b--){f=a[b];for(e=0;e<f.length;e++){g=f[e];for(d=0;d<a[b-1].length;d++){l=a[b-1][d];if(Cb(g,l))l.forward=Math.max(l.forward||0,(g.forward||0)+1)}}}}function Kb(a,b,e){function d(x,c){x=oa[x];if(typeof x=="object")return jb(x,c||
e);return x}function f(x,c){return b.trigger.apply(b,[x,c||ga].concat(Array.prototype.slice.call(arguments,2),[ga]))}function g(x){return j(x)&&!d("disableDragging")}function l(x){return j(x)&&!d("disableResizing")}function j(x){return Ta(x.editable,(x.source||{}).editable,d("editable"))}function s(x){V={};var c,v=x.length,t;for(c=0;c<v;c++){t=x[c];if(V[t._id])V[t._id].push(t);else V[t._id]=[t]}}function A(x){return x.end?M(x.end):ka(x)}function Q(x,c){ca.push(c);if(na[x._id])na[x._id].push(c);else na[x._id]=
[c]}function O(){ca=[];na={}}function p(x,c){c.click(function(v){if(!c.hasClass("ui-draggable-dragging")&&!c.hasClass("ui-resizable-resizing"))return f("eventClick",this,x,v)}).hover(function(v){f("eventMouseover",this,x,v)},function(v){f("eventMouseout",this,x,v)})}function u(x,c){ra(x,c,"show")}function aa(x,c){ra(x,c,"hide")}function ra(x,c,v){x=na[x._id];var t,K=x.length;for(t=0;t<K;t++)if(!c||x[t][0]!=c[0])x[t][v]()}function ha(x,c,v,t,K,ea,la){var X=c.allDay,ya=c._id;ba(V[ya],v,t,K);f("eventDrop",
x,c,v,t,K,function(){ba(V[ya],-v,-t,X);da(ya)},ea,la);da(ya)}function qa(x,c,v,t,K,ea){var la=c._id;ta(V[la],v,t);f("eventResize",x,c,v,t,function(){ta(V[la],-v,-t);da(la)},K,ea);da(la)}function ba(x,c,v,t){v=v||0;for(var K,ea=x.length,la=0;la<ea;la++){K=x[la];if(t!==pa)K.allDay=t;xa($(K.start,c,true),v);if(K.end)K.end=xa($(K.end,c,true),v);wa(K,oa)}}function ta(x,c,v){v=v||0;for(var t,K=x.length,ea=0;ea<K;ea++){t=x[ea];t.end=xa($(A(t),c,true),v);wa(t,oa)}}var ga=this;ga.element=a;ga.calendar=b;ga.name=
e;ga.opt=d;ga.trigger=f;ga.isEventDraggable=g;ga.isEventResizable=l;ga.reportEvents=s;ga.eventEnd=A;ga.reportEventElement=Q;ga.reportEventClear=O;ga.eventElementHandlers=p;ga.showEvents=u;ga.hideEvents=aa;ga.eventDrop=ha;ga.eventResize=qa;var ka=ga.defaultEventEnd,wa=b.normalizeEvent,da=b.reportEventChange,V={},ca=[],na={},oa=b.options}function Qb(){function a(i,I){var R=K(),E=da(),C=V(),n=0,U,T,o=i.length,r,w;R[0].innerHTML=e(i);d(i,R.children());f(i);g(i,R,I);l(i);j(i);s(i);I=A();for(R=0;R<E;R++){U=
[];for(T=0;T<C;T++)U[T]=0;for(;n<o&&(r=i[n]).row==R;){T=Hb(U.slice(r.startCol,r.endCol));r.top=T;T+=r.outerHeight;for(w=r.startCol;w<r.endCol;w++)U[w]=T;n++}I[R].height(Hb(U))}O(i,Q(I))}function b(i,I,R){var E=m("<div/>"),C=K(),n=i.length,U;E[0].innerHTML=e(i);E=E.children();C.append(E);d(i,E);l(i);j(i);s(i);O(i,Q(A()));E=[];for(C=0;C<n;C++)if(U=i[C].element){i[C].row===I&&U.css("top",R);E.push(U[0])}return m(E)}function e(i){var I=aa("isRTL"),R,E=i.length,C,n,U,T;R=na();var o=R.left,r=R.right,w,
F,q,J,L,k="";for(R=0;R<E;R++){C=i[R];n=C.event;T=["fc-event","fc-event-skin","fc-event-hori"];ha(n)&&T.push("fc-event-draggable");if(I){C.isStart&&T.push("fc-corner-right");C.isEnd&&T.push("fc-corner-left");w=c(C.end.getDay()-1);F=c(C.start.getDay());q=C.isEnd?oa(w):o;J=C.isStart?x(F):r}else{C.isStart&&T.push("fc-corner-left");C.isEnd&&T.push("fc-corner-right");w=c(C.start.getDay());F=c(C.end.getDay()-1);q=C.isStart?oa(w):o;J=C.isEnd?x(F):r}T=T.concat(n.className);if(n.source)T=T.concat(n.source.className||
[]);U=n.url;L=Jb(n,aa);k+=U?"<a href='"+Qa(U)+"'":"<div";k+=" class='"+T.join(" ")+"' style='position:absolute;z-index:8;left:"+q+"px;"+L+"'><div class='fc-event-inner fc-event-skin'"+(L?" style='"+L+"'":"")+">";if(!n.allDay&&C.isStart)k+="<span class='fc-event-time'>"+Qa(la(n.start,n.end,aa("timeFormat")))+"</span>";k+="<span class='fc-event-title'>"+Qa(n.title)+"</span></div>";if(C.isEnd&&qa(n))k+="<div class='ui-resizable-handle ui-resizable-"+(I?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";k+="</"+(U?
"a":"div")+">";C.left=q;C.outerWidth=J-q;C.startCol=w;C.endCol=F+1}return k}function d(i,I){var R,E=i.length,C,n,U;for(R=0;R<E;R++){C=i[R];n=C.event;U=m(I[R]);n=ra("eventRender",n,n,U);if(n===false)U.remove();else{if(n&&n!==true){n=m(n).css({position:"absolute",left:C.left});U.replaceWith(n);U=n}C.element=U}}}function f(i){var I,R=i.length,E,C;for(I=0;I<R;I++){E=i[I];(C=E.element)&&ta(E.event,C)}}function g(i,I,R){var E,C=i.length,n,U,T;for(E=0;E<C;E++){n=i[E];if(U=n.element){T=n.event;if(T._id===
R)ea(T,U,n);else U[0]._fci=E}}Db(I,i,ea)}function l(i){var I,R=i.length,E,C,n,U,T={};for(I=0;I<R;I++){E=i[I];if(C=E.element){n=E.key=Ib(C[0]);U=T[n];if(U===pa)U=T[n]=pb(C,true);E.hsides=U}}}function j(i){var I,R=i.length,E,C;for(I=0;I<R;I++){E=i[I];if(C=E.element)C[0].style.width=Math.max(0,E.outerWidth-E.hsides)+"px"}}function s(i){var I,R=i.length,E,C,n,U,T={};for(I=0;I<R;I++){E=i[I];if(C=E.element){n=E.key;U=T[n];if(U===pa)U=T[n]=Fb(C);E.outerHeight=C[0].offsetHeight+U}}}function A(){var i,I=da(),
R=[];for(i=0;i<I;i++)R[i]=ca(i).find("td:first div.fc-day-content > div");return R}function Q(i){var I,R=i.length,E=[];for(I=0;I<R;I++)E[I]=i[I][0].offsetTop;return E}function O(i,I){var R,E=i.length,C,n;for(R=0;R<E;R++){C=i[R];if(n=C.element){n[0].style.top=I[C.row]+(C.top||0)+"px";C=C.event;ra("eventAfterRender",C,C,n)}}}function p(i,I,R){var E=aa("isRTL"),C=E?"w":"e",n=I.find("div.ui-resizable-"+C),U=false;qb(I);I.mousedown(function(T){T.preventDefault()}).click(function(T){if(U){T.preventDefault();
T.stopImmediatePropagation()}});n.mousedown(function(T){function o(ia){ra("eventResizeStop",this,i,ia);m("body").css("cursor","");r.stop();ya();k&&wa(this,i,k,0,ia);setTimeout(function(){U=false},0)}if(T.which==1){U=true;var r=u.getHoverListener(),w=da(),F=V(),q=E?-1:1,J=E?F-1:0,L=I.css("top"),k,D,W=m.extend({},i),ja=v(i.start);G();m("body").css("cursor",C+"-resize").one("mouseup",o);ra("eventResizeStart",this,i,T);r.start(function(ia,ma){if(ia){var Y=Math.max(ja.row,ia.row);ia=ia.col;if(w==1)Y=0;
if(Y==ja.row)ia=E?Math.min(ja.col,ia):Math.max(ja.col,ia);k=Y*7+ia*q+J-(ma.row*7+ma.col*q+J);ma=$(ba(i),k,true);if(k){W.end=ma;Y=D;D=b(t([W]),R.row,L);D.find("*").css("cursor",C+"-resize");Y&&Y.remove();ka(i)}else if(D){ga(i);D.remove();D=null}ya();X(i.start,$(M(ma),1))}},T)}})}var u=this;u.renderDaySegs=a;u.resizableDayEvent=p;var aa=u.opt,ra=u.trigger,ha=u.isEventDraggable,qa=u.isEventResizable,ba=u.eventEnd,ta=u.reportEventElement,ga=u.showEvents,ka=u.hideEvents,wa=u.eventResize,da=u.getRowCnt,
V=u.getColCnt,ca=u.allDayRow,na=u.allDayBounds,oa=u.colContentLeft,x=u.colContentRight,c=u.dayOfWeekCol,v=u.dateCell,t=u.compileDaySegs,K=u.getDaySegmentContainer,ea=u.bindDaySeg,la=u.calendar.formatDates,X=u.renderDayOverlay,ya=u.clearOverlays,G=u.clearSelection}function Mb(){function a(O,p,u){b();p||(p=j(O,u));s(O,p,u);e(O,p,u)}function b(O){if(Q){Q=false;A();l("unselect",null,O)}}function e(O,p,u,aa){Q=true;l("select",null,O,p,u,aa)}function d(O){var p=f.cellDate,u=f.cellIsAllDay,aa=f.getHoverListener(),
ra=f.reportDayClick;if(O.which==1&&g("selectable")){b(O);var ha;aa.start(function(qa,ba){A();if(qa&&u(qa)){ha=[p(ba),p(qa)].sort(Gb);s(ha[0],ha[1],true)}else ha=null},O);m(document).one("mouseup",function(qa){aa.stop();if(ha){+ha[0]==+ha[1]&&ra(ha[0],true,qa);e(ha[0],ha[1],true,qa)}})}}var f=this;f.select=a;f.unselect=b;f.reportSelection=e;f.daySelectionMousedown=d;var g=f.opt,l=f.trigger,j=f.defaultSelectionEnd,s=f.renderSelection,A=f.clearSelection,Q=false;g("selectable")&&g("unselectAuto")&&m(document).mousedown(function(O){var p=
g("unselectCancel");if(p)if(m(O.target).parents(p).length)return;b(O)})}function Lb(){function a(g,l){var j=f.shift();j||(j=m("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));j[0].parentNode!=l[0]&&j.appendTo(l);d.push(j.css(g).show());return j}function b(){for(var g;g=d.shift();)f.push(g.hide().unbind())}var e=this;e.renderOverlay=a;e.clearOverlays=b;var d=[],f=[]}function Nb(a){var b=this,e,d;b.build=function(){e=[];d=[];a(e,d)};b.cell=function(f,g){var l=e.length,j=d.length,
s,A=-1,Q=-1;for(s=0;s<l;s++)if(g>=e[s][0]&&g<e[s][1]){A=s;break}for(s=0;s<j;s++)if(f>=d[s][0]&&f<d[s][1]){Q=s;break}return A>=0&&Q>=0?{row:A,col:Q}:null};b.rect=function(f,g,l,j,s){s=s.offset();return{top:e[f][0]-s.top,left:d[g][0]-s.left,width:d[j][1]-d[g][0],height:e[l][1]-e[f][0]}}}function Ob(a){function b(j){xc(j);j=a.cell(j.pageX,j.pageY);if(!j!=!l||j&&(j.row!=l.row||j.col!=l.col)){if(j){g||(g=j);f(j,g,j.row-g.row,j.col-g.col)}else f(j,g);l=j}}var e=this,d,f,g,l;e.start=function(j,s,A){f=j;
g=l=null;a.build();b(s);d=A||"mousemove";m(document).bind(d,b)};e.stop=function(){m(document).unbind(d,b);return l}}function xc(a){if(a.pageX===pa){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Pb(a){function b(l){return d[l]=d[l]||a(l)}var e=this,d={},f={},g={};e.left=function(l){return f[l]=f[l]===pa?b(l).position().left:f[l]};e.right=function(l){return g[l]=g[l]===pa?e.left(l)+b(l).width():g[l]};e.clear=function(){d={};f={};g={}}}var Ya={defaultView:"month",aspectRatio:1.35,
header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan",
"Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},yc=
{header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=m.fullCalendar={version:"1.5.3"},Ja=Aa.views={};m.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),e;this.each(function(){var f=m.data(this,"fullCalendar");if(f&&m.isFunction(f[a])){f=f[a].apply(f,
b);if(e===pa)e=f;a=="destroy"&&m.removeData(this,"fullCalendar")}});if(e!==pa)return e;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=m.extend(true,{},Ya,a.isRTL||a.isRTL===pa&&Ya.isRTL?yc:{},a);this.each(function(f,g){f=m(g);g=new Yb(f,a,d);f.data("fullCalendar",g);g.render()});return this};Aa.sourceNormalizers=[];Aa.sourceFetchers=[];var ac={dataType:"json",cache:false},bc=1;Aa.addDays=$;Aa.cloneDate=M;Aa.parseDate=kb;Aa.parseISO8601=Bb;
Aa.parseTime=mb;Aa.formatDate=Oa;Aa.formatDates=ib;var lc=["sun","mon","tue","wed","thu","fri","sat"],Ab=864E5,cc=36E5,wc=6E4,dc={s:function(a){return a.getSeconds()},ss:function(a){return Pa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Pa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Pa(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Pa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Pa(a.getDate())},
ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Pa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<
12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Oa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Aa.applyAll=$a;Ja.month=mc;Ja.basicWeek=nc;Ja.basicDay=oc;wb({weekMode:"fixed"});Ja.agendaWeek=qc;Ja.agendaDay=rc;wb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,
maxTime:24})})(jQuery);
