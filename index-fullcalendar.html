<!DOCTYPE html>

<html>
<head>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script type="text/javascript" src="fullcalendar/fullcalendar.js"></script>
	<link rel="stylesheet" type="text/css" href="fullcalendar/fullcalendar.css">
	<link rel="stylesheet" type="text/css" href="fullcalendar/fullcalendar.print.css" media="print">
	<script type="text/javascript">
		$(function(){
			$("#calendar").fullCalendar({
				eventSources: [
					{
						url: '/commonmeals/api.php',
						color: '#006600',
						className: 'commonmeals'
					}
				],
				events: [
					{
						title: "Event 1",
						start: "2012-05-15 18:00:00",
						end: "2012-05-15 18:45:00",
					},
					{
						title: "Jazz Night Concert",
						start: "2012-05-19 20:00:00",
						end: "2012-05-15 22:00:00",
						color: "red"
					}
				],
				allDayDefault: false,
				timeFormat: 'H:mm',
				loading: function(state) {
					$("#loading").toggle(state);
				},
				eventRender: function(event, element) {
					if (event.menu) {
						$('<div><pre>' + event.menu + '</pre></div>').appendTo($(element).children().first());
					}
				}
				/*eventRender: function(event, element) {
			 		var eventBox = $('<div/>');
					var eventTimes = event.start.getHours() + ':' + event.start.getMinutes();
					if (event.end)
						eventTimes += '&ndash;' + event.end.getHours() + ':' + event.end.getMinutes()
					$('<div>' + eventTimes + '</div>').appendTo(eventBox);
					var eventDesc = $('<div>' + event.title + '</div>');
					if (event.color !== undefined)
						$('<span> (' + event.color + ')</span>').appendTo(eventDesc);
					eventDesc.appendTo(eventBox);
					//$("<p>Test" + event.color + "</p>").appendTo(element);
					return eventBox;
				}*/
			});
		});
	</script>
</head>

<body>
	<div id="loading">Loading...</div>
	<div id="calendar">

	</div>
</body>
</html>

